VIZWeb3D['Animation']=function(a){var b=this,c=a,d=[],e=0x0,f,g,h,i,j=0xc,k=function(){var s={'ID':e,'Transform':{'Move':new THREE['Vector3'](),'Rotate':new THREE['Vector3'](),'UsePoint':![],'Point':new THREE['Vector3']()},'Action':{'Visible':!![],'Color':{'r':0xff,'g':0x0,'b':0x0,'a':0x1},'UseColor':![]},'Base':{'Move':new THREE['Vector3'](),'Rotate':new THREE['Vector3'](),'Point':new THREE['Vector3']()},'Time':{'Start':0x0,'End':0x0},'Status':0x0,'ZeroBase':![],'Mesh':{'ID':null,'Item':null}};return s;},l=null,m=new Map(),n=![],o=[];function p(){if(n)return;var s=0x0;for(var t=0x0;t<c['Control']['Model']['AnimationObject']['children']['length'];t++){var u=c['Control']['Model']['AnimationObject']['children'][t];if(u['name']['localeCompare']('box')===0x0)b['AddAnimation'](t/0x2,u);else b['AddAnimation_Arm'](s,u),o['push'](u);}j=b['PlayTime'](),n=!![];}this['Add']=function(s,t,u,v,w,x,y,z){var A=k();A['Time']['Start']=s,A['Time']['End']=t,A['Transform']['Move']=new THREE['Vector3']()['copy'](u),A['Transform']['Rotate']=new THREE['Vector3']()['copy'](v),A['ZeroBase']=w,A['Mesh']['ID']=x['uuid'],A['Mesh']['Item']=x,A['Base']['Move']=new THREE['Vector3']()['copy'](x['position']),A['Base']['Rotate']=new THREE['Vector3']()['copy'](x['rotation']),y!==undefined&&z!==undefined&&(A['Action']['UseColor']=y,A['Action']['Color']=z),d['push'](A),e++;},this['Add_Offset']=function(s,t,u,v,w,x,y,z){var A=k();A['Time']['Start']=s,A['Time']['End']=t,A['Transform']['Move']=new THREE['Vector3']()['copy'](u),A['Transform']['Rotate']=new THREE['Vector3']()['copy'](v),A['ZeroBase']=w,A['Mesh']['ID']=x['uuid'],A['Mesh']['Item']=x,A['Base']['Move']=new THREE['Vector3']()['copy'](x['position']),A['Base']['Rotate']=new THREE['Vector3']()['copy'](x['rotation']),y!==undefined&&z!==undefined&&(A['Transform']['UsePoint']=y,A['Transform']['Point']=z),d['push'](A),e++;},this['AddAnimation']=function(s,t){t['geometry']['center'](),t['position']['set'](-113035.43,-7556.23,1231.27),b['Add'](s+0x0,s+0x1,new THREE['Vector3'](0x0,1583.23,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+0x1,s+1.5,new THREE['Vector3'](344.94,812.89,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+1.5,s+0x2,new THREE['Vector3'](999.75,300.94,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+0x1,s+0x2,new THREE['Vector3'](0x0,0x0,0x0),new THREE['Vector3'](0x0,0x0,-0x5a),![],t),b['Add'](s+0x2,s+0x5,new THREE['Vector3'](7801.94,0x0,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+0x5,s+5.5,new THREE['Vector3'](856.12,270.56,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+5.5,s+0x6,new THREE['Vector3'](320.89,908.23,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+0x5,s+0x6,new THREE['Vector3'](0x0,0x0,0x0),new THREE['Vector3'](0x0,0x0,0x5a),![],t);var u={'r':0xff,'g':0x0,'b':0x0,'a':0x1};b['Add'](s+0x3,s+0x4,new THREE['Vector3'](0x0,0x0,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t,!![],u),u={'r':0xff,'g':0xff,'b':0x0,'a':0x1},b['Add'](s+0x6,s+0x8,new THREE['Vector3'](0x0,3781.29,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t,!![],u),b['Add'](s+0x8,s+8.5,new THREE['Vector3'](-287.01,894.35,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+8.5,s+0x9,new THREE['Vector3'](-805.33,257.64,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+0x8,s+0x9,new THREE['Vector3'](0x0,0x0,0x0),new THREE['Vector3'](0x0,0x0,0x5a),![],t),u={'r':0x0,'g':0xff,'b':0x0,'a':0x1},b['Add'](s+0x9,s+0xa,new THREE['Vector3'](-2761.2,62.71,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+0xa,s+10.5,new THREE['Vector3'](-1149.01,363.1,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+10.5,s+0xb,new THREE['Vector3'](-299.97,1051.71,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+0xa,s+0xb,new THREE['Vector3'](0x0,0x0,0x0),new THREE['Vector3'](0x0,0x0,-0x5a),![],t),b['Add'](s+0xb,s+0xc,new THREE['Vector3'](0x0,1288.45,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t),b['Add'](s+0x9,s+0xb,new THREE['Vector3'](0x0,0x0,0x0),new THREE['Vector3'](0x0,0x0,0x0),![],t,!![],u);},this['AddAnimation_Arm']=function(s,t){t['scale']['set'](0x2,0x2,0x2);if(t['name']['localeCompare']('VIZWeb3D/MODEL/MR1718-ARM-BASE-1.vizw')===0x0){}else{if(t['name']['localeCompare']('VIZWeb3D/MODEL/MR1718-ARM-ELBOW-1.vizw')===0x0){}else{if(t['name']['localeCompare']('VIZWeb3D/MODEL/MR1718-ARM-GRIPPER-1.vizw')===0x0){}else{if(t['name']['localeCompare']('VIZWeb3D/MODEL/MR1718-ARM-WRIST-1.vizw')===0x0){}}}}};function q(s,t){for(var u=0x0;u<s['geometry']['attributes']['color']['array']['length'];u=u+0x4){s['geometry']['attributes']['color']['array'][u]=t['r'],s['geometry']['attributes']['color']['array'][u+0x1]=t['g'],s['geometry']['attributes']['color']['array'][u+0x2]=t['b'],s['geometry']['attributes']['color']['array'][u+0x3]=t['a']*0xff;}s['geometry']['attributes']['color']['needsUpdate']=!![];};function r(s,t,u,v,w){w=w===undefined?![]:w,w&&s['parent']['localToWorld'](s['position']),s['position']['sub'](t),s['position']['applyAxisAngle'](u,v),s['position']['add'](t),w&&s['parent']['worldToLocal'](s['position']),s['rotateOnAxis'](u,v);}this['Start']=function(){p();l!==null&&(clearInterval(l),l=null);g=new Date()['getTime'](),h=new Date()['getTime']();var s=function(){i=new Date()['getTime'](),f=i-g;var t=f/0x3e8,u=new THREE['Vector3'](-0x18b19,-0x4eb,0x440),v=new THREE['Vector3']()['copy'](new THREE['Vector3'](62.0988*0x2,-0.7999*0x2,101.5193*0x2)),w=new THREE['Vector3']()['copy'](new THREE['Vector3'](62.0988*0x2,-0.7999*0x2,101.5193*0x2)),x=new THREE['Vector3']()['copy'](new THREE['Vector3'](2.4805*0x2,523.2224*0x2,4.6365*0x2)),y=new THREE['Vector3']()['copy'](new THREE['Vector3'](2.4805*0x2,523.2224*0x2,4.6365*0x2)),z=[0x0,0x3,0x6,0x9,0xc,0xf];if(!![])for(var A=0x0;A<o['length'];A++){var B=![],C=0x0;for(var D=0x0;D<z['length'];D++){if(A>=z[D]&&A<=z[D]+0x2){B=!![],C=z[D];break;}}if(!B)continue;var E=o[A],F=i-h,G=F/0x7d0,H=0x0;{A===C&&(v=new THREE['Vector3']()['copy'](new THREE['Vector3'](62.0988*0x2,-0.7999*0x2,101.5193*0x2)),w=new THREE['Vector3']()['copy'](new THREE['Vector3'](62.0988*0x2,-0.7999*0x2,101.5193*0x2)),x=new THREE['Vector3']()['copy'](new THREE['Vector3'](2.4805*0x2,523.2224*0x2,4.6365*0x2)),y=new THREE['Vector3']()['copy'](new THREE['Vector3'](2.4805*0x2,523.2224*0x2,4.6365*0x2))),C===0x0&&(u=new THREE['Vector3'](-101380.8047,-653.9194,825.5),G=F/0x7d0,H=3.141592/0xb4*0x5a),C===0x3&&(u=new THREE['Vector3'](-106528.9375,-125.918,825.5),G=F/0x7d0+2.25,H=0x0),C===0x6&&(u=new THREE['Vector3'](-104245.2578,-125.9108,825.5),G=F/0x7d0+0x5,H=0x0),C===0x9&&(u=new THREE['Vector3'](-105494.4922,-3368.9077,825.5),G=F/0x7d0+0x1,H=3.141592/0xb4*0xb4),C===0xc&&(u=new THREE['Vector3'](-104041.6406,-2730.981,825.5),G=F/0x7d0+7.25,H=3.141592/0xb4*0xfa),C===0xf&&(u=new THREE['Vector3'](-101380.8047,-3391.4844,825.5),G=F/0x7d0+0xa,H=3.141592/0xb4*0x5a);}var I=0x0,J=3.141592/0xb4*(0x5a-0xa),K=3.141592654/0xb4*(0xb4-0x1e);{var L=Math['floor'](G/0x6),M=G-L*0x6,N=Math['floor'](M),O=M-N;N===0x0&&(O<0.5?(I=0x0,J=3.141592/0xb4*(0x5a-(0xa+0x1e*O*0x2)),K=3.141592654/0xb4*(0xb4-0x1e)):(I=0x0,J=3.141592/0xb4*(0x5a-0x28),K=3.141592654/0xb4*(0xb4-(0x1e+0x32*(O-0.5)*0x2)))),N===0x1&&(O<0.5?(I=0x0,J=3.141592/0xb4*(0x5a-0x28),K=3.141592654/0xb4*(0xb4-0x50)):(I=0x0,J=3.141592/0xb4*(0x5a-0x28),K=3.141592654/0xb4*(0xb4-(0x50-0x32*(O-0.5)*0x2)))),N===0x2&&(I=3.141592/0xb4*0x2d*O,J=3.141592/0xb4*(0x5a-0x28),K=3.141592654/0xb4*(0xb4-0x1e)),N===0x3&&(O<0.5?(I=3.141592/0xb4*0x2d,J=3.141592/0xb4*(0x5a-0x28),K=3.141592654/0xb4*(0xb4-(0x1e+0x32*O*0x2))):(I=3.141592/0xb4*0x2d,J=3.141592/0xb4*(0x5a-0x28),K=3.141592654/0xb4*(0xb4-0x50))),N===0x4&&(O<0.5?(I=3.141592/0xb4*0x2d,J=3.141592/0xb4*(0x5a-0x28),K=3.141592654/0xb4*(0xb4-(0x50-0x32*O*0x2))):(I=3.141592/0xb4*0x2d,J=3.141592/0xb4*(0x5a-(0x28-0x1e*(O-0.5)*0x2)),K=3.141592654/0xb4*(0xb4-0x1e))),N===0x5&&(I=3.141592/0xb4*(0x2d-0x2d*O),J=3.141592/0xb4*(0x5a-0xa),K=3.141592654/0xb4*(0xb4-0x1e));}I+=H;if(A-C===0x0){E['position']['set'](u['x'],u['y'],u['z']),E['rotation']['set'](0x0,0x0,I);var P=new THREE['Matrix4']();P['makeRotationZ'](I),w['applyMatrix4'](P),w['add'](u);}if(A-C===0x1){E['position']['copy'](w),E['rotation']['x']=0x0,E['rotation']['y']=0x0,E['rotation']['z']=0x0,E['rotateZ'](I),E['rotateX'](J);var Q=new THREE['Matrix4']();Q['makeRotationZ'](I);var R=new THREE['Matrix4']();R['makeRotationX'](J),y['applyMatrix4'](R),y['applyMatrix4'](Q),y['add'](w);}A-C===0x2&&(E['position']['copy'](y),E['rotation']['x']=0x0,E['rotation']['y']=0x0,E['rotation']['z']=0x0,E['rotateZ'](I),E['rotateX'](J+K));}if(t>j){g=new Date()['getTime']();for(var A=0x0;A<d['length'];A++){var S=d[A];S['Mesh']['Item']['position']['copy'](S['Base']['Move']),S['Mesh']['Item']['rotation']['set'](0x0,0x0,0x0);}m['clear']();}for(var A=0x0;A<d['length'];A++){var S=d[A];S['Status']=0x1;if(S['Time']['Start']<t&&t<S['Time']['End']){var T=t-S['Time']['Start'],U=S['Time']['End']-S['Time']['Start'],V=T/U;S['Action']['UseColor']&&q(S['Mesh']['Item'],S['Action']['Color']);var W={'Move':new THREE['Vector3']()['copy'](S['Transform']['Move'])['multiplyScalar'](V),'Rotate':new THREE['Vector3']()['copy'](S['Transform']['Rotate'])['multiplyScalar'](V)},X=m['get'](S['ID']);if(S['Transform']['UsePoint']){if(X===undefined){var Y=new THREE['Vector3']()['copy'](S['Transform']['Point']),Z=new THREE['Vector3']()['copy'](Y),a0=new THREE['Matrix4']();W['Rotate']['x']=-0xa,a0['makeRotationX'](W['Rotate']['x']*Math['PI']/0xb4),Z['applyMatrix4'](a0),S['Mesh']['Item']['rotateX'](W['Rotate']['x']*Math['PI']/0xb4),S['Mesh']['Item']['position']['sub'](Z),W['Move']['sub'](Z),S['Mesh']['Item']['position']['add'](Y),W['Move']['add'](Z),m['set'](S['ID'],W);}else{S['Mesh']['Item']['position']['x']-=W['Move']['x']-X['Move']['x'],S['Mesh']['Item']['position']['y']-=W['Move']['y']-X['Move']['y'],S['Mesh']['Item']['position']['z']-=W['Move']['z']-X['Move']['z'],S['Mesh']['Item']['rotateX']((W['Rotate']['x']-X['Rotate']['x'])*Math['PI']/0xb4),S['Mesh']['Item']['rotateY']((W['Rotate']['y']-X['Rotate']['y'])*Math['PI']/0xb4),S['Mesh']['Item']['rotateZ']((W['Rotate']['z']-X['Rotate']['z'])*Math['PI']/0xb4);var Y=new THREE['Vector3']()['copy'](S['Transform']['Point']),Z=new THREE['Vector3']()['copy'](Y),a0=new THREE['Matrix4']();W['Rotate']['x']=-0x14,a0['makeRotationX'](W['Rotate']['x']*Math['PI']/0xb4),Z['applyMatrix4'](a0),S['Mesh']['Item']['rotateX'](W['Rotate']['x']*Math['PI']/0xb4),S['Mesh']['Item']['position']['sub'](Z),W['Move']['sub'](Z),S['Mesh']['Item']['position']['add'](Y),W['Move']['add'](Z),m['set'](S['ID'],W);}}else X===undefined?(S['Mesh']['Item']['rotateX'](W['Rotate']['x']*Math['PI']/0xb4),S['Mesh']['Item']['rotateY'](W['Rotate']['y']*Math['PI']/0xb4),S['Mesh']['Item']['rotateZ'](W['Rotate']['z']*Math['PI']/0xb4),S['Mesh']['Item']['position']['x']+=W['Move']['x'],S['Mesh']['Item']['position']['y']+=W['Move']['y'],S['Mesh']['Item']['position']['z']+=W['Move']['z'],m['set'](S['ID'],W)):(S['Mesh']['Item']['rotateX']((W['Rotate']['x']-X['Rotate']['x'])*Math['PI']/0xb4),S['Mesh']['Item']['rotateY']((W['Rotate']['y']-X['Rotate']['y'])*Math['PI']/0xb4),S['Mesh']['Item']['rotateZ']((W['Rotate']['z']-X['Rotate']['z'])*Math['PI']/0xb4),S['Mesh']['Item']['position']['x']+=W['Move']['x']-X['Move']['x'],S['Mesh']['Item']['position']['y']+=W['Move']['y']-X['Move']['y'],S['Mesh']['Item']['position']['z']+=W['Move']['z']-X['Move']['z'],m['set'](S['ID'],W));}else{if(t>S['Time']['End']&&S['Status']===0x1){var X=m['get'](S['ID']);if(X!==undefined){var W={'Move':new THREE['Vector3']()['copy'](S['Transform']['Move']),'Rotate':new THREE['Vector3']()['copy'](S['Transform']['Rotate'])};S['Mesh']['Item']['rotateX']((S['Transform']['Rotate']['x']-X['Rotate']['x'])*Math['PI']/0xb4),S['Mesh']['Item']['rotateY']((S['Transform']['Rotate']['y']-X['Rotate']['y'])*Math['PI']/0xb4),S['Mesh']['Item']['rotateZ']((S['Transform']['Rotate']['z']-X['Rotate']['z'])*Math['PI']/0xb4),S['Mesh']['Item']['position']['x']+=S['Transform']['Move']['x']-X['Move']['x'],S['Mesh']['Item']['position']['y']+=S['Transform']['Move']['y']-X['Move']['y'],S['Mesh']['Item']['position']['z']+=S['Transform']['Move']['z']-X['Move']['z'],S['Status']=0x2;if(S['Action']['UseColor']){var a1=S['Mesh']['Item']['userData'][0x0]['color'],a2={'r':a1['R'],'g':a1['G'],'b':a1['B'],'a':a1['A']/0xff};q(S['Mesh']['Item'],a2);}m['set'](S['ID'],W);}}}}c['RenderEvent']=!![];};l=setInterval(function(){s();},0x1e);},this['PlayTime']=function(){var s=0x0;for(var t=0x0;t<d['length'];t++){var u=d[t];s=Math['max'](s,u['Time']['End']);}return s;};};