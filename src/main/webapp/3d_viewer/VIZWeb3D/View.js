function GetBrowser(){var a=navigator['userAgent'],b,c,d,e,f='win16|win32|win64|mac';navigator['platform']&&(0x0>f['indexOf'](navigator['platform']['toLowerCase']())?c=0x1:c=0x0);if((b=a['match'](/MSIE ([0-9]+)/))||(b=a['match'](/Trident.*rv:([0-9]+)/)))d=0x1;else{if(b=a['match'](/Edge\/([0-9]+)/))d=0x2;else{if(b=a['match'](/Chrome\/([0-9]+)/))d=0x3;else{if(b=a['match'](/Firefox\/([0-9]+)/))d=0x4;else{if(b=a['match'](/Safari\/([0-9]+)/))d=0x5;else{if((b=a['match'](/OPR\/([0-9]+)/))||(b=a['match'](/Opera\/([0-9]+)/)))d=0x6;else d=0x0;}}}}}if(d!==0x0)e=b[0x1];var g=![];if(d===0x1||d===0x2)g=!![];var h=function(){this['getParameter']=function(l){var m='',n=unescape(location['href']),o=n['slice'](n['indexOf']('?')+0x1,n['length'])['split']('&');for(var p=0x0;p<o['length'];p++){var q=o[p]['split']('=')[0x0];if(q['toUpperCase']()==l['toUpperCase']()){m=o[p]['split']('=')[0x1];break;}}return m;};},i=new h(),j=i['getParameter']('thema'),k={'Platform':c,'Type':d,'Version':e,'IsMS':g,'Thema':j};return k;}function BrowserScript(){var a=GetBrowser();return a['IsMS']?'VIZWeb3D/VIZWLoader_IE':'VIZWeb3D/VIZWLoader';}function ConfigurationFile(){var a='VIZWeb3D/Configuration.js?'+new Date()['getTime']();return a;}define([BrowserScript(),'VIZWeb3D/ThirdParty/Three/js/camera/CombinedCamera','VIZWeb3D/ThirdParty/Three/js/controls/TrackballControls','VIZWeb3D/ThirdParty/Three/js/controls/DragControls','VIZWeb3D/ThirdParty/Three/js/controls/TransformControls','VIZWeb3D/ThirdParty/Three/js/controls/OrthographicTrackballControls','VIZWeb3D/ThirdParty/Three/js/controls/OrbitControls','VIZWeb3D/ThirdParty/Three/js/shaders/THREE.MeshLine',ConfigurationFile(),'VIZWeb3D/Configuration_UI','VIZWeb3D/Drawing','VIZWeb3D/Coordinate','VIZWeb3D/Data','VIZWeb3D/Clipping','VIZWeb3D/Pivot','VIZWeb3D/Toolbar','VIZWeb3D/Tree','VIZWeb3D/Measure','VIZWeb3D/Note','VIZWeb3D/Property','VIZWeb3D/Outline','VIZWeb3D/EventDispatcher','VIZWeb3D/Animation','VIZWeb3D/Picking','VIZWeb3D/AdditionalReview'],function(a){function b(P){scope=this,this['TRIAL']=![],container=P,this['Container']=container,(scene=null,sceneCoordinate=null),sceneOut=new THREE['Scene'](),sceneTexture=new THREE['Scene'](),sceneGround=new THREE['Scene'](),renderTarget=null,cube=null,camera=null,cameraCoordinate=null,(renderer=null,light=null,spotLight=null,raycaster=null),lightCamera=null,(light1=null,light2=null),stats=null,controls=null,mouse=new THREE['Vector2'](),mouseAction=!![],objModel=new THREE['Object3D'](),objCustomAxis=new THREE['Object3D'](),objGround=null,objClipping=null,objEdge=new THREE['Object3D'](),objPivot=new THREE['Object3D'](),objAnimation=new THREE['Object3D'](),objDrag=[],orgModelBBox=null,orgModelCenter=null,objOutline=new THREE['Object3D'](),this['Browser']=GetBrowser(),this['Data']=null,coordinate=new VIZWeb3D['Coordinate'](),clipping=null,pivot=null,loaderVIZW=null,datamng=null,eventHandler=new VIZWeb3D['EventDispatcher'](window,container),this['EventHandler']=eventHandler,this['Toolbar']=new VIZWeb3D['Toolbar'](this),this['Tree']=null,this['Configuration']=new VIZWeb3D['Configuration'](),this['Animation']=null;if(this['Browser']['Thema']==='1')this['Configuration']['Thema']['Type']=THEMA_TYPES['Splitter'];this['Measure']=null,this['Note']=null,this['Property']=null,this['Outline']=null,this['Drawing']=null,this['Picking']=null,this['AdditionalReview']=null,bEnableRender=!![],bWebGLInit=![],visible_ground=!![],visible_model=!![],visible_edge=![],bInit_Edge=![],_rendermode=RENDER_MODES['Smooth'],_cameradirection=CAMERA_DIRECTIONS['PlusISO'],_projection=PROJECTION_MODES['Orthographic'],loadScene=null,cameraType=0x0,viewBoundBox=null,helperCamera=null,cameraInitPos=new THREE['Vector3']();let Q=null;_Datas=[],_TargetMeshes=[],ID=0x0,_TotalDownloadCnt=0x0,_CurrentDownloadSeq=0x0,onDownPosition=new THREE['Vector2'](),onUpPosition=new THREE['Vector2'](),onCurrentPosition=new THREE['Vector2'](),onPickPosition=new THREE['Vector2'](),s(),select={'body':null,'mesh':null,'source':null},version='2.0.21.0108',keycode='/?flag=4&id=2&msg=53@127.0.0.1@00-00-00-00-00-00@N/A@N/A@N/A@N/A@'+version,testHiddenline=!![],renderCnt=0x0,eventCnt=0x0,animationCnt=0x0,pickingMap=null,g(),f();}b['prototype']={'Constructor':b,'RenderEvent':![],'ModelData':function(){return objModel;},'Coordinate':null,'Clipping':null,'Event':null,'Toolbar':null,'Tree':null,'AdditionalReview':null,'Ground':new function(){this['Option']={get 'Visible'(){return visible_ground;},set 'Visible'(P){visible_ground=P,scope['RenderEvent']=!![];}};}(),'Control':new function(){this['Edge']={get 'Visible'(){return visible_edge;},set 'Visible'(P){visible_edge=P;if(visible_edge)q(objModel);objEdge['visible']=visible_edge,scope['RenderEvent']=!![];}},this['Model']={get 'Visible'(){return visible_model;},set 'Visible'(P){visible_model=P,scope['RenderEvent']=!![];},get 'RenderMode'(){return _rendermode;},set 'RenderMode'(P){_rendermode=P,t(P,objModel),scope['Toolbar']['Refresh'](),scope['RenderEvent']=!![];},get 'Object'(){return objModel;},get 'AnimationObject'(){return objAnimation;},'Add':function(P){scope['Add_Model'](P),scope['RenderEvent']=!![];},'Close':function(){o(objModel),o(objEdge),scope['RenderEvent']=!![];},'Find':function(P,Q){return scope['Data']['Find'](P,Q);},'Select':function(P,Q){scope['Data']['Select_v2'](P,objModel,Q),scope['RenderEvent']=!![];},'Show':function(P,Q){scope['Data']['Show_v2'](P,objModel,Q),scope['Data']['ShowEdge'](P,objEdge),scope['RenderEvent']=!![];},'Center':function(){if(orgModelCenter===null)return null;else return new THREE['Vector3']()['copy'](orgModelCenter);}},this['Camera']={get 'Direction'(){return _cameradirection;},set 'Direction'(P){_cameradirection=P,scope['Camera_Rotate'](P),scope['Camera_Rotate'](P),scope['RenderEvent']=!![];},get 'Projection'(){return _projection;},set 'Projection'(P){scope['RenderEvent']=!![],_projection!==P&&(_projection=P,_projection===PROJECTION_MODES['Orthographic']?camera['setCameraMode'](PROJECTION_MODES['Orthographic']):camera['setCameraMode'](PROJECTION_MODES['Perspective'])),scope['RenderEvent']=!![];},'InitPos':function(){scope['Camera_FitAll'](objModel),controls['Pivot']['copy'](orgModelCenter),scope['Camera_Rotate'](CAMERA_DIRECTIONS['PlusISO']),lightCamera['position']['copy'](camera['position']),lightCamera['target']=objModel,scope['RenderEvent']=!![];},'Focuse':function(P){scope['Camera_FocuseObject'](P,0x1);}};}(),'Property':null,'Init':function(){!bWebGLInit&&(loadScene=this['Init_LoadScene']());scene=loadScene['scene'],camera=loadScene['camera'],sceneCoordinate=coordinate['scene'],cameraCoordinate=coordinate['camera'],this['Coordinate']=coordinate,this['Coordinate']['EventHandler']['addEventListener'](EVENT_TYPES['Control']['Changed'],function(){scope['RenderEvent']=!![];}),raycaster=new THREE['Raycaster']();var P=new THREE['BufferGeometry']();P['addAttribute']('position',new THREE['BufferAttribute'](new Float32Array(0x4*0x3),0x3));var Q=new THREE['LineBasicMaterial']({'color':0xffffff,'transparent':!![]});line=new THREE['Line'](P,Q),scene['add'](line),sceneOut['add'](objOutline),loaderVIZW=new a(),this['Parse']=loaderVIZW;if(!bWebGLInit){M(),this['Add_Render'](),this['Add_Light'](),this['Add_Controllers'](),this['EventHandler']=eventHandler,objModel=new THREE['Object3D'](),this['Data']=new VIZWeb3D['Data'](this,objModel),clipping=new VIZWeb3D['Clipping'](scene,camera,renderer,controls,objModel,objEdge,this['Data']),this['Clipping']=clipping,this['Clipping']['EventHandler']['addEventListener'](EVENT_TYPES['Control']['Changed'],function(){scope['RenderEvent']=!![];}),pivot=new VIZWeb3D['Pivot'](container,scene,camera,renderer,controls),pivot['EventHandler']['addEventListener'](EVENT_TYPES['Pivot']['DrawRender'],function(){scope['RenderEvent']=!![];}),this['Tree']=new VIZWeb3D['Tree'](this),this['Tree']['SetOption'](this['Configuration']['Tree']),this['AdditionalReview']=new VIZWeb3D['AdditionalReview'](this,camera,renderer),this['Data']['EventHandler']['addEventListener'](EVENT_TYPES['Data']['Selected'],function(S){if(S['data']['treeselect']===!![])scope['Tree']['Select'](S['data']['id']);scope['Clipping']['UpdateModel'](objModel),scope['RenderEvent']=!![];var T=scope['Data']['GetNode'](S['data']['id']),U=T['data']['name']===null?'Body\x20'+T['data']['index']:T['data']['name'];scope['EventHandler']['dispatchEvent'](EVENT_TYPES['Model']['Select'],{'id':S['data']['id'],'name':U});}),this['Data']['EventHandler']['addEventListener'](EVENT_TYPES['Data']['Deselect_All'],function(S){scope['Tree']['DeselectAll'](),scope['Clipping']['UpdateModel'](objModel),scope['RenderEvent']=!![],scope['EventHandler']['dispatchEvent'](EVENT_TYPES['Model']['Select'],{'id':-0x1,'name':''});}),this['Data']['EventHandler']['addEventListener'](this['Data']['Load'],function(){scope['Parse']['parsetype']=scope['Data']['ParseType'],scope['EventHandler']['dispatchEvent'](EVENT_TYPES['View']['Init']);}),this['Data']['EventHandler']['addEventListener'](this['Data']['Parse'],function(){scope['Parse']['parsetype']=scope['Data']['ParseType'];}),this['Data']['SetOption'](this['Configuration']['Model']),this['Data']['Check'](this['Configuration']['AUTHORITY_PARAMS']['Data']+keycode),window['onbeforeunload']=function(){scope['Data']['Disconnect']();},visible_ground=this['Configuration']['Ground']['Option']['Visible'],this['Toolbar']['SetOption'](this['Configuration']['Toolbar']);scope['Browser']['Platform']===PLATFORM_TYPES['Mobile']&&this['Toolbar']['Resize']();this['Configuration']['EventHandler']['addEventListener'](EVENT_TYPES['Toolbar']['Show'],function(){scope['Toolbar']['Visible']=!![];}),this['Configuration']['EventHandler']['addEventListener'](EVENT_TYPES['Toolbar']['Hide'],function(){scope['Toolbar']['Visible']=![];}),this['Measure']=new VIZWeb3D['Measure'](this,camera,renderer),this['Measure']['EventHandler']['addEventListener'](EVENT_TYPES['Control']['Changed'],function(){scope['RenderEvent']=!![];}),this['Measure']['SetOption'](this['Configuration']['Measure']),this['Note']=new VIZWeb3D['Note'](this,camera,renderer),this['Note']['EventHandler']['addEventListener'](EVENT_TYPES['Control']['Changed'],function(){scope['RenderEvent']=!![];}),this['Note']['SetOption'](this['Configuration']['Note']),this['Property']=new VIZWeb3D['Property'](this),this['Outline']=new VIZWeb3D['Outline'](new THREE['Vector2'](window['innerWidth'],window['innerHeight']),scope['Data'],renderer),this['Drawing']=new VIZWeb3D['Drawing'](this,camera,renderer),this['Drawing']['EventHandler']['addEventListener'](EVENT_TYPES['Control']['Changed'],function(){scope['RenderEvent']=!![],scope['Lock'](![]);}),this['Configuration_UI']=new VIZWeb3D['Configuration_UI'](this),this['Animation']=new VIZWeb3D['Animation'](this),this['Picking']=new VIZWeb3D['Picking'](this,scene,camera,renderer,new THREE['Vector2'](window['innerWidth'],window['innerHeight'])),scene['add'](objModel),scene['add'](objAnimation);let R=this['Coordinate']['GetCoordi']();R['position']['copy'](new THREE['Vector3'](0x0,0x0,0x0)),R['scale']['set'](0.1,0.1,0.1),R['rotateX'](3.14/0x2),objCustomAxis['add'](R),scene['add'](objCustomAxis),bWebGLInit=!![];}},'Init_LoadScene':function(){var P=0x1f4,Q=window['innerWidth']/window['innerHeight'],R=new THREE['OrthographicCamera'](P*Q/-0x2,P*Q/0x2,P/0x2,P/-0x2,0x1,0x3e8),S={'scene':new THREE['Scene'](),'camera':new THREE['CombinedCamera'](window['innerWidth'],window['innerHeight'],0x3c,0x1,0x989680,0x1,0x989680,this,container)};return S['camera']['position']['z']=0x64,S['scene']['add'](S['camera']),S['scene']['matrixAutoUpdate']=![],S;},'Add_Render':function(){renderer=new THREE['WebGLRenderer']({'antialias':!![],'alpha':!![]}),renderer['setClearColor'](0xeeeeee),renderer['setPixelRatio'](window['devicePixelRatio']),renderer['setSize'](container['clientWidth'],container['clientHeight']),renderer['localClippingEnabled']=!![],renderer['shadowMap']['enabled']=!![],renderer['shadowMap']['type']=THREE['PCFSoftShadowMap'],renderer['shadowMap']['renderSingleSided']=!![],renderer['shadowMap']['renderReverseSided']=!![],container['appendChild'](renderer['domElement']);},'Add_Controllers':function(){controls=new THREE['TrackballControls'](camera,container,this);scope['Browser']['IsMS']?(controls['rotateSpeed']=0x14,controls['zoomSpeed']=0x2,controls['panSpeed']=0x2,controls['staticMoving']=![],controls['dynamicDampingFactor']=0.2):(controls['rotateSpeed']=0x7,controls['zoomSpeed']=1.3,controls['panSpeed']=0x1,controls['staticMoving']=![],controls['dynamicDampingFactor']=0.35);controls['noZoom']=![],controls['noPan']=![];var P=new THREE['Vector3'](0x0,0x0,0x19);controls['target']['copy'](P),controls['bPivot']=!![],controls['Pivot']=P,controls['addEventListener']('change',C),controls['addEventListener']('start',D);},'Add_Light':function(){var P=new THREE['AmbientLight'](0x909090);scene['add'](P);var Q=new THREE['Vector3'](0x0,0x0,0x0),R=new THREE['Vector3'](0x0,0x0,0x1),S=new THREE['Vector3'](0.1,0.1,0.1),T=new THREE['Vector3']()['subVectors'](R,Q);T['applyAxisAngle'](S,0x1e/0xb4*3.141592),T['applyAxisAngle'](R,0xa/0xb4*3.141592);var U=T;light1=new THREE['DirectionalLight'](0xffffff,0x2);var V=new THREE['Vector3'](U['x'],U['y'],U['z']);light1['position']['copy'](V),scene['add'](light1);var W=new THREE['Vector3'](-U['x'],-U['y'],-U['z']);light2=new THREE['DirectionalLight'](0xffffff,0x1),light2['position']['copy'](W),scene['add'](light2),spotLight=new THREE['SpotLight'](0xffffff,0x1),spotLight['position']['set'](0x0,0x0,0x0),spotLight['angle']=0.1,spotLight['penumbra']=0.2,spotLight['decay']=0x2,spotLight['distance']=0xc8,spotLight['castShadow']=!![],spotLight['shadow']['camera']['near']=0x3,spotLight['shadow']['camera']['far']=0xf4240,spotLight['shadow']['mapSize']['width']=0x2000,spotLight['shadow']['mapSize']['height']=0x2000,scene['add'](spotLight),lightCamera=new THREE['DirectionalLight'](0xffffff,0x2),lightCamera['position']['copy'](V),cameraHelper=new THREE['CameraHelper'](lightCamera['shadow']['camera']);},'Add_Model':function(P){if(P!==undefined)for(var Q=0x0;Q<P['length'];Q++){ID++,Data={'ID':ID,'Url':P[Q],'Downloaded':![],'Current':![]},_Datas['push'](Data);}_TotalDownloadCnt=_Datas['length'],_CurrentDownloadSeq=0x0,n(0x1);},'Add_Ground':function(){if(objGround!==null)scene['remove'](objGround);objGround=new THREE['Object3D']();var P=new THREE['Vector3'](0x0,0x0,0x0),Q=new THREE['Vector3'](0x0,0x0,0x1),R=new THREE['Vector3'](0x0,0x0,0x0),S=new THREE['Vector3']()['subVectors'](Q,P);S['applyAxisAngle'](R,0x1e/0xb4*3.141592),S['applyAxisAngle'](Q,0xa/0xb4*3.141592);var T=S,U=new THREE['DirectionalLight'](0xffffff,0x1),V=new THREE['Vector3'](T['x'],T['y'],T['z']);U['position']['copy'](V);var W=new THREE['Vector3'](-T['x'],-T['y'],-T['z']),X=new THREE['DirectionalLight'](0xffffff,0x1);X['position']['copy'](W);var Y=0.2,Z=orgModelBBox['max']['x']-orgModelBBox['min']['x'],a0=orgModelBBox['max']['y']-orgModelBBox['min']['y'],a1=(orgModelBBox['max']['z']-orgModelBBox['min']['z'])/0x2,a2=null;Z=Z+Z*Y,a0=a0+a0*Y;if(Z>a0)a2=Z;else a2=a0;var a3=new THREE['Mesh'](new THREE['PlaneBufferGeometry'](a2,a2,0x64,0x64),new THREE['MeshPhongMaterial']({'color':0xb0b0b0,'depthWrite':![],'side':THREE['DoubleSide']})),a4=new THREE['Vector3'](orgModelCenter['x'],orgModelCenter['y'],orgModelCenter['z']-a1);a3['position']['copy'](a4),a3['receiveShadow']=!![],objGround['add'](a3);var a5=new THREE['GridHelper'](a2,0x14,0x0,0x0);a5['material']['opacity']=0.2,a5['side']=THREE['DoubleSide'],a5['rotation']['x']=-Math['PI']/0x2,a5['position']['copy'](a4),objGround['add'](a5),objGround['visible']=visible_ground,scene['add'](objGround);},'Render_Grid':function(){var P=new THREE['GridHelper'](0x64,0xa);P['setColors'](new THREE['Color'](0x6600),new THREE['Color'](0x6600)),P['position']['set'](0x64,0x0,0x64),scene['add'](P);var Q=new THREE['GridHelper'](0x64,0xa);Q['position']['set'](0x64,0x64,0x0),Q['rotation']['x']=Math['PI']/0x2,Q['setColors'](new THREE['Color'](0x66),new THREE['Color'](0x66)),scene['add'](Q);var R=new THREE['GridHelper'](0x64,0xa);R['position']['set'](0x0,0x64,0x64),R['rotation']['z']=Math['PI']/0x2,R['setColors'](new THREE['Color'](0x660000),new THREE['Color'](0x660000)),scene['add'](R);},'Render':function(){if(!bWebGLInit)return;renderer['autoClear']=!![];var P=container['getBoundingClientRect']();renderer['setViewport'](0x0,0x0,P['width'],P['height']);if(objCustomAxis!==null)objCustomAxis['visible']=![];if(objEdge!==null)objEdge['visible']=![];if(objModel!==null)objModel['visible']=![];scope['Data']['SetBasicShaderDepthTest'](!![]);visible_ground&&(objGround!==null&&(objGround['visible']=!![],renderer['render'](scene,camera)));visible_ground&&(objGround!==null&&(objGround['visible']=![]));if(!testHiddenline)scope['Control']['Model']['RenderMode']===RENDER_MODES['HiddenLine']&&(scope['Data']['SetBasicShaderDepthTest'](![]),scope['Outline']['render'](0x1),renderer['autoClearDepth']=!![],scope['Outline']['useAlpha']=![]);scope['Control']['Model']['RenderMode']===RENDER_MODES['Xray']&&(scope['Data']['SetBasicShaderDepthTest'](![]),renderer['autoClearDepth']=!![],scope['Outline']['useAlpha']=![]);{if(testHiddenline){if(scope['Control']['Model']['RenderMode']===RENDER_MODES['HiddenLine'])scope['Data']['SetHiddenEdgeColor'](!![]);}if(objEdge!==null)objEdge['visible']=visible_edge;if(objModel!==null)objModel['visible']=visible_model;renderer['autoClear']=![],d(),renderer['autoClear']=![];}(scope['Control']['Model']['RenderMode']===RENDER_MODES['HiddenLine_Elimination']||scope['Control']['Model']['RenderMode']===RENDER_MODES['HiddenLine'])&&(objEdge['visible']=!![],renderer['autoClearDepth']=![],scope['Outline']['render'](0x1),scope['Outline']['useAlpha']=![]);if(testHiddenline){if(scope['Control']['Model']['RenderMode']===RENDER_MODES['HiddenLine']){scope['Data']['SetHiddenEdgeColor'](![]),scope['Data']['SetBasicShaderDepthTest'](![]),scope['Outline']['render'](0x1),scope['Outline']['useAlpha']=![],renderer['autoClear']=![];if(objModel!==null)objModel['visible']=![];renderer['render'](scene,camera),renderer['autoClear']=![],scope['Data']['SetHiddenEdgeColor'](!![]);}}{visible_edge=objEdge['visible'],scope['Toolbar']['onEdgeLoadingCompleted']();}scope['Control']['Model']['RenderMode']!==RENDER_MODES['HiddenLine_Elimination']&&scope['Control']['Model']['RenderMode']!==RENDER_MODES['HiddenLine']&&scope['Control']['Model']['RenderMode']!==RENDER_MODES['Xray']&&(scope['Outline']['useAlpha']=![]);scope['AdditionalReview']['Render'](),scope['Outline']['render'](0x0),scope['Measure']['Render'](),scope['Note']['Render'](),scope['Drawing']['Render']();if(coordinate['Option']['Visible']){renderer['autoClear']=![];if(objModel!==null)objModel['visible']=![];if(visible_ground){if(objGround!==null)objGround['visible']=![];}if(visible_edge){if(objEdge!==null)objEdge['visible']=![];}if(scope['Browser']['Platform']===PLATFORM_TYPES['PC'])renderer['setViewport'](coordinate['Rect']['x'],P['height']-coordinate['Rect']['y'],coordinate['Rect']['width'],coordinate['Rect']['height']);else renderer['setViewport'](coordinate['Rect']['x']/0x2,P['height']-coordinate['Rect']['y']/0x2,coordinate['Rect']['width']/0x2,coordinate['Rect']['height']/0x2);var Q=new THREE['Vector3'](0x0,0x0,0x0);Q['copy'](camera['rotation']),coordinate['camera']['rotation']['copy'](camera['rotation']),renderer['render'](coordinate['scene'],coordinate['camera']);}if(pivot['DrawRender'])pivot['update']();},'Render_Pick':function(){renderer['autoClear']=!![];var P=container['getBoundingClientRect']();renderer['setViewport'](0x0,0x0,P['width'],P['height']),scope['Data']['SetBasicShaderDepthTest'](!![]);if(objModel!==null)objModel['visible']=visible_model;renderer['autoClear']=![],d(),renderer['autoClear']=![];},'BoundingBox':function(P){var Q=this;if(P instanceof THREE['Mesh']){if(P['visible']){var R=P['geometry'];return R['computeBoundingBox'](),R['boundingBox'];}}if(P instanceof THREE['Object3D']){var S=new THREE['Box3']();for(var T=0x0;T<P['children']['length'];T++){S['union'](Q['BoundingBox'](P['children'][T]));}return S;}},'Camera_MoveTo':function(P){boundbox=this['BoundingBox'](P);var Q=new THREE['Vector3']((boundbox['max']['x']+boundbox['min']['x'])/0x2,(boundbox['max']['y']+boundbox['min']['y'])/0x2,(boundbox['max']['z']+boundbox['min']['z'])/0x2),R=new THREE['Vector3']();R['subVectors'](Q,controls['target']),camera['position']['addVectors'](camera['position'],R),camera['lookAt'](Q),controls['target']['set'](Q['x'],Q['y'],Q['z']),camera['vCenter']=Q;},'Camera_FitCustom':function(P){var Q=this['BoundingBox'](objModel);if(Q['isEmpty']())return;camera['factor']=P,this['Camera_MoveTo'](objModel);var R=Q['getSize']()['length']()*0.4,S=R/Math['sin'](Math['PI']/0xb4*camera['fov']*0.5),T=controls['target'],U=new THREE['Vector3']();U['subVectors'](camera['position'],T),U['setLength'](S),camera['position']['addVectors'](U,T),camera['updateProjectionMatrix']();},'Camera_FitAll':function(P){var Q=this['BoundingBox'](P);if(Q['isEmpty']())return;camera['factor']=1.5,this['Camera_MoveTo'](objModel);var R=Q['getSize']()['length']()*0.4,S=R/Math['sin'](Math['PI']/0xb4*camera['fov']*0.5),T=controls['target'],U=new THREE['Vector3']();U['subVectors'](camera['position'],T),U['setLength'](S),camera['position']['addVectors'](U,T),camera['updateProjectionMatrix']();},'Camera_FocuseObject':function(P,Q){var R=scope['Data']['GetData'](P);if(R['length']===0x0)return;var S=new THREE['Vector3'](),T=new THREE['Vector3']();for(var U=0x0;U<R['length'];U++){var V=R[U],W=scope['Data']['GetMesh'](V['mesh']['uuid']),X=!![];for(var Y=V['body']['m_vnIdx'];Y<V['body']['m_vnIdx']+V['body']['m_nVtx'];Y+=0x3){X?(S['x']=W['geometry']['attributes']['position']['array'][Y],S['y']=W['geometry']['attributes']['position']['array'][Y+0x1],S['z']=W['geometry']['attributes']['position']['array'][Y+0x2],T['x']=W['geometry']['attributes']['position']['array'][Y],T['y']=W['geometry']['attributes']['position']['array'][Y+0x1],T['z']=W['geometry']['attributes']['position']['array'][Y+0x2],X=![]):(S['x']=Math['min'](S['x'],W['geometry']['attributes']['position']['array'][Y]),S['y']=Math['min'](S['y'],W['geometry']['attributes']['position']['array'][Y+0x1]),S['z']=Math['min'](S['z'],W['geometry']['attributes']['position']['array'][Y+0x2]),T['x']=Math['max'](T['x'],W['geometry']['attributes']['position']['array'][Y]),T['y']=Math['max'](T['y'],W['geometry']['attributes']['position']['array'][Y+0x1]),T['z']=Math['max'](T['z'],W['geometry']['attributes']['position']['array'][Y+0x2]));}}var Z=new THREE['Vector3']((T['x']+S['x'])/0x2,(T['y']+S['y'])/0x2,(T['z']+S['z'])/0x2),a0=new THREE['Vector3']();a0['subVectors'](Z,controls['target']),camera['position']['addVectors'](camera['position'],a0),camera['lookAt'](Z),controls['target']['set'](Z['x'],Z['y'],Z['z']),camera['vCenter']=Z;var a1=new THREE['Box3'](S,T),a2=a1['getSize']()['length']()*0.4,a3=a2/Math['sin'](Math['PI']/0xb4*camera['fov']*0.5);controls['Pivot']['copy'](Z);var a4=controls['target'],a5=new THREE['Vector3']();a5['subVectors'](camera['position'],a4),a5['setLength'](a3),camera['position']['addVectors'](a5,a4),camera['updateProjectionMatrix']();},'Camera_Rotate':function(P){if(typeof P==='undefined')return;this['Camera_Reset']();if(P===CAMERA_DIRECTIONS['PlusX'])v(0x1,0x0,0x0,Math['PI']/0x2),v(0x0,0x0,0x1,Math['PI']/0x2);else{if(P===CAMERA_DIRECTIONS['MinusX'])v(0x1,0x0,0x0,Math['PI']/0x2),v(0x0,0x0,-0x1,Math['PI']/0x2);else{if(P===CAMERA_DIRECTIONS['PlusY'])v(0x1,0x0,0x0,Math['PI']/0x2),v(0x0,0x0,0x1,Math['PI']);else{if(P===CAMERA_DIRECTIONS['MinusY'])v(0x1,0x0,0x0,Math['PI']/0x2);else{if(P===CAMERA_DIRECTIONS['PlusZ']){}else{if(P===CAMERA_DIRECTIONS['MinusZ'])v(0x1,0x0,0x0,Math['PI']);else{if(P===CAMERA_DIRECTIONS['PlusISO'])v(0x1,0x0,0x0,Math['PI']/0x2),v(0x0,0x0,-0x1,Math['PI']/0x4),v(-0x1,0x1,0x0,Math['PI']/0x24*0x5);else P===CAMERA_DIRECTIONS['MinusISO']&&(v(0x1,0x0,0x0,Math['PI']/0x2),v(0x0,0x0,0x1,Math['PI']),v(0x0,0x0,0x1,0x78),v(0x1,0x0,0x0,Math['PI']),v(0x0,-0x1,0x0,Math['PI']/0x24*0x5),v(0x1,0x0,0x0,Math['PI']/0x24*0x6));}}}}}}scope['Camera_FitAll'](objModel);},'Camera_Translation':function(P,Q){var R=new THREE['Vector3']();if(P['localeCompare']('x')===0x0)R=new THREE['Vector3'](u(Q),0x0,0x0);else{if(P['localeCompare']('y')===0x0)R=new THREE['Vector3'](0x0,u(Q),0x0);else R=new THREE['Vector3'](0x0,0x0,u(Q));}var S=new THREE['Vector3'](),T=new THREE['Vector3']();T['copy'](camera['position'])['sub'](S);var U=Math['atan2'](T['x'],T['z']),V=Math['atan2'](Math['sqrt'](T['x']*T['x']+T['z']*T['z']),T['y']);U+=R['x'],V+=R['y'];var W=0.000001;V=Math['max'](W,Math['min'](Math['PI']-W,V));var X=T['length']();T['x']=X*Math['sin'](V)*Math['sin'](U),T['y']=X*Math['cos'](V),T['z']=X*Math['sin'](V)*Math['cos'](U),camera['position']['copy'](S)['add'](T);},'Camera_TranslationByValue':function(P,Q){var R=new THREE['Vector3']();if(P['localeCompare']('x')===0x0)R=new THREE['Vector3'](Q,0x0,0x0);else{if(P['localeCompare']('y')===0x0)R=new THREE['Vector3'](0x0,Q,0x0);else R=new THREE['Vector3'](0x0,0x0,Q);}var S=new THREE['Vector3'](),T=new THREE['Vector3']();T['copy'](camera['position'])['sub'](S);var U=Math['atan2'](T['x'],T['z']),V=Math['atan2'](Math['sqrt'](T['x']*T['x']+T['z']*T['z']),T['y']);U+=R['x'],V+=R['y'];var W=0.000001;V=Math['max'](W,Math['min'](Math['PI']-W,V));var X=T['length']();T['x']=X*Math['sin'](V)*Math['sin'](U),T['y']=X*Math['cos'](V),T['z']=X*Math['sin'](V)*Math['cos'](U),camera['position']['copy'](S)['add'](T);},'Camera_Reset':function(){var P=new THREE['Box3']()['setFromObject'](objModel),Q=new THREE['Vector3']((P['max']['x']+P['min']['x'])/0x2,(P['max']['y']+P['min']['y'])/0x2,(P['max']['z']+P['min']['z'])/0x2);camera['position']['z']=Q['z']+0.5,camera['position']['x']=Q['x'],camera['position']['y']=Q['y'],camera['up']['set'](0x0,0x1,0x0),camera['factor']=0x1,camera['lookAt'](objModel),camera['updateProjectionMatrix']();},'Lock':function(P){if(scope['Drawing']['DrawingMode'])controls['enabled']=![];else controls['enabled']=!P;mouseAction=!P,scope['RenderEvent']=!![];},'Animate':function(){if(controls){if(controls['enabled'])controls['update']();}var P=new THREE['Vector3']()['copy'](camera['position']),Q=new THREE['Vector3'](-0xa,-0xa,0xa);P=new THREE['Vector3']()['subVectors'](P,Q);var R=new THREE['Vector3'](0x0,0x0,0x1);P['applyAxisAngle'](R,0x1e/0xb4*3.141592),light1['position']['copy'](P);var S=new THREE['Vector3']()['subVectors'](light1['position'],controls['target']);light2['position']['set'](-S['x'],-S['y'],-S['z']);if(objModel!==null&&orgModelCenter!==null){var T,U,V,W,X;W=0x2,X=sphereBBox['radius']*W,T=camera['position']['clone'](),U=orgModelCenter['clone'](),V=T['distanceTo'](U),camera['target']['copy'](controls['target']),camera['isOrthographicCamera']?(camera['cameraP']['near']=V<=0.1?0.1:0x1,camera['cameraP']['far']=V*W<=X?X:V*W,camera['cameraO']['near']=-V*W>=-X?-X:-V*W,camera['cameraO']['far']=V*W<=X?X:V*W,camera['m_fModelRadius']=sphereBBox['radius'],camera['updateProjectionMatrix']()):(V<=sphereBBox['radius']*1.5?(camera['cameraP']['near']=sphereBBox['radius']/0x3e8,camera['cameraP']['far']=sphereBBox['radius']*0x3):(camera['cameraP']['near']=V-sphereBBox['radius']*1.5,camera['cameraP']['far']=V*W<=X?X:V*W),camera['m_fModelRadius']=sphereBBox['radius'],camera['updateProjectionMatrix']());}this['RenderEvent']===!![]&&(this['Render'](),this['RenderEvent']=![]);},'Parse':null,'SetOutlineSelection':function(){var P=renderer['getDrawingBufferSize'](new THREE['Vector2']());scope['Outline']['setSize'](P['width'],P['height']),scope['Outline']['addData'](0x0,sceneOut,camera,objModel,scene),scope['RenderEvent']=!![];},'SetOutlineHidden':function(){var P=renderer['getDrawingBufferSize'](new THREE['Vector2']());scope['Outline']['setSize'](P['width'],P['height']),scope['Outline']['addData'](0x1,scene,camera,objModel,scene),scope['RenderEvent']=!![];},'SetPickInfo':function(){var P=renderer['getDrawingBufferSize'](new THREE['Vector2']());scope['Outline']['setSize'](P['width'],P['height']),scope['Outline']['addData'](0x5,scene,camera,objModel,scene);},'ClearMode':function(){scope['Measure']['ReviewMode']&&scope['Measure']['End'](),scope['Note']['ReviewMode']&&scope['Note']['End'](),scope['Drawing']['DrawingMode']&&scope['Drawing']['End'](),scope['Toolbar']['Refresh']();},'Pivot':function(){return controls['Pivot'];},'Snapshot':function(){var P=window['open']('','');P['document']['title']='Snapshot';var Q=new Image();this['Render'](),Q['src']=renderer['domElement']['toDataURL'](),Q['style']['height']='100%',Q['style']['width']='100%',Q['style']['objectfit']='contain',P['document']['body']['appendChild'](Q);},'GetPickInfo':function(P){pickingMap=new Map();{var Q={'r':0x0,'g':0x0,'b':0x1,'a':0x1},R={'r':0x0,'g':0x0,'b':0x0,'a':0x0},S={'r':0x0,'g':0x0,'b':0xff,'a':0x1},T=function(a1){var a2=0x1;if(a1['b']+a2<=0xff)a1['b']+=a2;else a1['g']+a2<=0xff?(a1['g']+=a2,a1['b']=0x0):(a1['r']+=a2,a1['g']=0x0,a1['b']=0x0);},U=function(a1,a2,a3,a4){for(var a5=0x0;a5<a1['children']['length'];a5++){if(a1['children'][a5]instanceof THREE['Mesh']){a1['children'][a5]['material']=a3,a1['children'][a5]['material']['needsUpdate']=!![];for(var a6=0x0;a6<a1['children'][a5]['userData']['length'];a6++){var a7=a1['children'][a5]['userData'][a6],a8=function(aa,ab,ac){for(var ad=ab['m_vnIdx']/0x3*0x4;ad<ab['m_vnIdx']/0x3*0x4+ab['m_nVtx']+ab['m_nVtx']/0x3;ad=ad+0x4){aa['geometry']['attributes']['color']['array'][ad]=ac['r'],aa['geometry']['attributes']['color']['array'][ad+0x1]=ac['g'],aa['geometry']['attributes']['color']['array'][ad+0x2]=ac['b'],aa['geometry']['attributes']['color']['array'][ad+0x3]=ac['a']*0xff;}aa['geometry']['attributes']['color']['needsUpdate']=!![],T(ac);},a9=a4['r']+(a4['g']<<0x8)+(a4['b']<<0x10)+(a4['a']*0xff<<0x18);pickingMap['set'](a9,a7['bodyId']);if(!a2)a8(a1['children'][a5],a7,a4);else a8(a1['children'][a5],a7,a4);}}else U(a1['children'][a5],a2,a3,a4);}};U(objModel,![],scope['Data']['Materials']['hiddenline_basic'],Q),renderer['autoClearDepth']=![];}this['Render']();const V=renderer['domElement']['getContext']('webgl');if(!V)return;else{var W=container['getBoundingClientRect'](),X=scope['Data']['GetMousePos'](P);const a1=P['clientX'],a2=W['height']-P['clientY'],a3=new Uint8Array(0x4);V['readPixels'](a1,a2,0x1,0x1,V['RGBA'],V['UNSIGNED_BYTE'],a3);var Y=a3[0x0]+(a3[0x1]<<0x8)+(a3[0x2]<<0x10)+(a3[0x3]<<0x18);console['log']('R\x20:\x20'+a3[0x0]+'\x20G\x20:\x20'+a3[0x1]+'\x20B\x20:\x20'+a3[0x2]);var Z=pickingMap['get'](Y);if(Z!==undefined){var a0=scope['Data']['GetNode'](Z);console['log']('Picking\x20:\x20'+Z);}}},'ViewSize':function(){var P=container['getBoundingClientRect']();return P;},'Refresh':function(){var P=container['getBoundingClientRect']();renderer['setSize'](P['width'],P['height']),camera['cameraP']['aspect']=container['clientWidth']/container['clientHeight'],camera['cameraP']['updateProjectionMatrix'](),scope['RenderEvent']=!![];if(controls)controls['handleResize']();if(scope['Toolbar'])scope['Toolbar']['Resize']();},'EdgeShow':function(){var P=function(U){if(U['Tag']['Visible']===!![]&&U['vertices']!==undefined){var V=new THREE['BufferGeometry']();V['addAttribute']('position',new THREE['Float32BufferAttribute'](U['vertices'],0x3));var W=new THREE['LineSegments'](V,scope['Data']['Materials']['edge']);objEdge['add'](W);}};o(objEdge),objEdge=new THREE['Object3D'](),scene['add'](objEdge);for(var Q=0x0;Q<objModel['children'][0x0]['children']['length'];Q++){var R=objModel['children'][0x0]['children'][Q];for(var S=0x0;S<R['userData']['length'];S++){var T=R['userData'][S];P(T);}}},'SetConfiguration':function(P){P&&(scope['Data']['DeselectAll'](objModel),scope['Tree']['Refresh']()),scope['Data']['SetOption'](scope['Configuration']['Model']),scope['Toolbar']['SetOption'](scope['Configuration']['Toolbar']),scope['Measure']['SetOption'](scope['Configuration']['Measure']),scope['Note']['SetOption'](scope['Configuration']['Note']);}};function c(P,Q,R){for(var S=0x0;S<P['children']['length'];S++){P['children'][S]instanceof THREE['Mesh']?P['children'][S]['geometry']['setDrawRange'](Q,R):c(P['children'][S],Q,R);}}function d(){renderer['render'](scene,camera);}function e(){var P=new THREE['RenderPass'](scene,camera);ssaoPass=new THREE['SSAOPass'](scene,camera),ssaoPass['renderToScreen']=!![],effectComposer=new THREE['EffectComposer'](renderer),effectComposer['addPass'](P),effectComposer['addPass'](ssaoPass);}function f(){if(scope['Browser']['IsMS']){$('.submenu-render')['css']('marginTop','1px'),$('.submenu-camera')['css']('marginTop','1px'),$('.submenu-clipping')['css']('marginTop','1px'),$('.submenu-measure')['css']('marginTop','1px'),$('.submenu-note')['css']('marginTop','1px');if(scope['Browser']['Type']===BROWSER_TYPES['Internet_Explorer'])$('nav')['css']('height','100%');}}function g(){var P=document['createElement']('div');P['style']['position']='absolute',P['style']['width']='100px',P['style']['right']=0x0,P['style']['bottom']=0x0,P['style']['marginRight']='20px',P['style']['marginLeft']='auto',P['style']['margine']='auto',P['innerHTML']='<img\x20alt\x20=\x20\x22imgfile\x22\x20src\x20=\x20\x22data:image;base64,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\x22\x20width=\x22100%\x22\x20>',container['appendChild'](P);}function h(P,Q,R,S){var T=new Image();T['onload']=function(){var U=T['width'],V=T['height'],W=R/U,X=S/V,Y=W<X?W:X;if(Y>0x1)Y=0x1;P['width']=Y*U,P['height']=Y*V,P['style']['display']='';},T['src']=Q;}var i=!![];function j(P,Q,R,S,T,U){var V=new THREE['Vector3'](P,Q,R),W=V['project'](S);return W['x']=(W['x']+0x1)/0x2*T,W['y']=-(W['y']-0x1)/0x2*U,W['z']=0x0,W;}function k(P){for(var Q=0x0;Q<P['children']['length'];Q++){var R=P['children'][Q],S=R['geometry']['clone']();for(var T=0x0;T<S['attributes']['position']['array']['length'];T=T+0x3){var U=S['attributes']['position']['array'][T],V=S['attributes']['position']['array'][T+0x1],W=S['attributes']['position']['array'][T+0x2],X=new THREE['Vector3'](U,V,W),Y=j(U,V,W,camera,container['clientWidth'],container['clientHeight']),Z=scope['Data']['GetMousePos_1'](Y['x'],Y['y']),a0=new THREE['Vector3'](Z['x'],Z['y'],0x0)['unproject'](camera);S['attributes']['position']['array'][T]=a0['x'],S['attributes']['position']['array'][T+0x1]=a0['y'],S['attributes']['position']['array'][T+0x2]=a0['z'];}var a1=new THREE['EdgesGeometry'](S),a2=new THREE['LineSegments'](a1,scope['Data']['Materials']['edge']);scene['add'](a2);var a3=[];}}function l(P,Q){scope['RenderEvent']=!![],scope['Refresh'](),Q['Downloaded']=!![],objModel['add'](P);if(scope['Configuration']['Model']['LOD']['Enable'])objModel['updateMatrix'](),i&&(cameraInitPos['copy'](camera['position']),scope['Camera_FitAll'](objModel),scope['Control']['Camera']['Projection']=PROJECTION_MODES['Orthographic'],scope['Camera_Rotate'](_cameradirection),i=![]);else{orgModelBBox=new THREE['Box3']()['setFromObject'](objModel);var R=new THREE['Sphere']();sphereBBox=orgModelBBox['getBoundingSphere'](R),orgModelCenter=sphereBBox['center'];var S=0x64,T=0x1f40;spotLight['position']['set'](-orgModelCenter['x']+S,-orgModelCenter['y']+S,0x2710),spotLight['shadow']['camera']['far']=(orgModelBBox['max']['z']-orgModelBBox['min']['z'])*0x2+T;var U=new THREE['SphereGeometry'](0x14,0x20,0x20),V=new THREE['MeshPhongMaterial']({'color':0x505050,'side':THREE['DoubleSide'],'transparent':!![],'vertexColors':THREE['NoColors']});bWebGLInit&&scene['remove'](objModel);var W=new THREE['Vector3'](0x0,0x0,0xa)['multiplyScalar'](sphereBBox['radius']/0x2),X=new THREE['Vector3'](0xc8,0x1f4,0xc8)['multiplyScalar'](sphereBBox['radius']/0x2*0x12c);scope['Data']['Shader']['uniforms']['vEye']['value']=W,scope['Data']['Shader']['uniforms']['vLight']['value']=X,scene['add'](objModel),objModel['updateMatrix'](),cameraInitPos['copy'](camera['position']),scope['Camera_FitAll'](objModel),controls['bPivot']=!![],controls['Pivot']['copy'](orgModelCenter),scope['Camera_Rotate'](_cameradirection),lightCamera['position']['copy'](camera['position']),lightCamera['target']=objModel,scope['Add_Ground'](),clipping['UpdateModel'](objModel,!![]);}for(var Y=_Datas['length']-0x1;Y>=0x0;Y--){_Datas[Y]['ID']===Q['ID']&&_Datas['splice'](Y,0x1);}if(_Datas['length']===0x0){$('.ProgressPage')['fadeOut'](0x1f4),orgModelBBox=new THREE['Box3']()['setFromObject'](objModel),sphereBBox=orgModelBBox['getBoundingSphere'](R),orgModelCenter=sphereBBox['center'];var S=0x64,T=0x1f40;spotLight['position']['set'](-orgModelCenter['x']+S,-orgModelCenter['y']+S,0x2710),spotLight['shadow']['camera']['far']=(orgModelBBox['max']['z']-orgModelBBox['min']['z'])*0x2+T;var W=new THREE['Vector3'](0x0,0x0,0xa)['multiplyScalar'](sphereBBox['radius']/0x2),X=new THREE['Vector3'](0xc8,0x1f4,0xc8)['multiplyScalar'](sphereBBox['radius']/0x2*0x12c);scope['Data']['Shader']['uniforms']['vEye']['value']=W,scope['Data']['Shader']['uniforms']['vLight']['value']=X,objModel['updateMatrix'](),cameraInitPos['copy'](camera['position']),scope['Camera_FitAll'](objModel),controls['bPivot']=!![],controls['Pivot']['copy'](orgModelCenter),scope['Camera_Rotate'](_cameradirection),lightCamera['position']['copy'](camera['position']),lightCamera['target']=objModel,scope['Add_Ground'](),clipping['UpdateModel'](objModel,!![]),scope['Tree']['Init'](),scope['Control']['Model']['RenderMode']=scope['Configuration']['Model']['RenderMode'],scope['EventHandler']['dispatchEvent'](EVENT_TYPES['View']['Loading_Complete']);}setTimeout(function(){console['log']('onloadVIZW\x20-\x20Timer'),_CurrentDownloadSeq++;if(scope['Configuration']['Model']['LOD']['Enable'])n(0x2);else n(0x1);},0x19),scope['RenderEvent']=!![];}function m(P,Q,R,S){var T='';if(P===PROGRESS_TYPES['File_Downloading'])T='File\x20Downloading\x20:\x20';else{if(P===PROGRESS_TYPES['Data_Loading'])T='Data\x20Loading\x20:\x20';else T='Edge\x20Loading\x20:\x20';}var U=$('.progress-bar\x20p'),V=$('.progress-bar\x20pText'),W=$('.progress-bar\x20pTextFile'),X=document['getElementById']('inactiveProgress'),Y=document['getElementById']('activeProgress');if(P===0x0)r(0x0,X,Q,U,V,W,R,S);else{if(P===0x1)r(0x1,Y,Q,U,V,W);else r(0x2,Y,Q,U,V,W);}var Z=(Q*0x64)['toFixed'](0x2);scope['EventHandler']['dispatchEvent'](EVENT_TYPES['Progress']['Percentage'],{'type':P,'value':Z});}function n(P){_Datas['length']!==0x0&&($('.ProgressPage')['fadeIn'](0x1f4),m(PROGRESS_TYPES['File_Downloading'],0x0),m(PROGRESS_TYPES['Data_Loading'],0x0));var Q=!![];for(var R=0x0;R<_Datas['length'];R++){if(P!==0x0)!_Datas[R]['Current']&&!_Datas[R]['Downloaded']&&(_Datas[R]['Current']=!![],console['log']('File\x20Downloading\x20Start\x20:\x20'+_Datas[R]['Url']),loaderVIZW['load'](_Datas[R],l,scope['Data'],m,GetBrowser()),P--,Q=![]);}}function o(P){try{if(P&&typeof P==='object'){if(Array['isArray'](P))P['forEach'](o);else{if(P instanceof THREE['Object3D'])o(P['geometry']),o(P['material']),P['parent']&&P['parent']['remove'](P),o(P['children']);else{if(P instanceof THREE['Mesh'])o(P['geometry']),o(P['material']),P['parent']&&P['parent']['remove'](P),o(P['children']);else{if(P instanceof THREE['Geometry']||P instanceof THREE['BufferGeometry'])P['dispose']();else{if(P instanceof THREE['Material'])P['dispose'](),o(P['materials']),o(P['map']),o(P['lightMap']),o(P['bumpMap']),o(P['normalMap']),o(P['specularMap']),o(P['envMap']);else typeof P['dispose']==='function'?P['dispose']():Object['values'](P)['forEach'](o);}}}}}}catch(Q){console['log'](Q);}}function p(P,Q){var R=null;for(var S=0x0;S<P['children']['length'];S++){if(P['children'][S]instanceof THREE['Mesh']){if(P['children'][S]['uuid']['localeCompare'](Q)===0x0){R=P['children'][S];break;}}else R=p(P['children'][S],Q);}return R;}function q(P){var Q=0xa,R=0x0,S=[],T=function(X){for(var Y=0x0;Y<X['children']['length'];Y++){X['children'][Y]instanceof THREE['Mesh']?scope['Data']['EdgeMap']['get'](X['children'][Y]['uuid'])===undefined&&(S['push'](X['children'][Y]),scope['Data']['EdgeMap']['set'](X['children'][Y]['uuid'],0x0)):T(X['children'][Y]);}};scope['Data']['RestoreHideData'](objModel),T(P);S['length']!==0x0&&($('.ProgressPage')['fadeIn'](0x0),m(PROGRESS_TYPES['Edge_Loading'],0x0),setTimeout(function(){m(PROGRESS_TYPES['Edge_Loading'],R/S['length']),U();},0x19));var U=function(){for(var X=0x0;X<Q;X++){V(S[R]),R++;if(R===S['length'])break;}m(PROGRESS_TYPES['Edge_Loading'],R/S['length']),R===S['length']?(objEdge['visible']=!![],scene['add'](objEdge),$('.ProgressPage')['fadeOut'](0x1f4),scope['Data']['ResetHideData'](objModel),scope['Toolbar']['onEdgeLoadingCompleted'](),scope['Clipping']['UpdateModel'](objModel),scope['RenderEvent']=!![]):setTimeout(function(){U();},0x19);},V=function(X){scope['Data']['SetEdgeData'](X,0.8,![],objEdge);},W=function(X,Y,Z){Y=Y!==undefined?Y:0x1;var a0=X['geometry'],a1=[],a2=Math['cos'](Math['PI']*0x2/0x168*Y),a3=[0x0,0x0],a4={},a5,a6,a7=[0x0,0x0],a8={},a9,aa,ab,ac=['a','b','c'],ad=function(aq){var ar=-0x1;for(var as=0x0;as<X['userData']['length'];as++){var at=X['userData'][as];if(aq>=at['m_triIdx']&&aq<=at['m_triIdx']+at['m_nTris']){ar=at;break;}}return ar;},ae;a0['isBufferGeometry']?(ae=new THREE['Geometry'](),ae['fromBufferGeometry'](a0)):ae=a0['clone']();if(Z)ae['computeFaceNormals']();else ae['computeVertexNormals']();var af=ae['vertices'],ag=ae['faces'];for(var ah=0x0,ai=ag['length'];ah<ai;ah++){var aj=ag[ah];for(var ak=0x0;ak<0x3;ak++){a5=aj[ac[ak]],a6=aj[ac[(ak+0x1)%0x3]],a3[0x0]=Math['min'](a5,a6),a3[0x1]=Math['max'](a5,a6),ab=a3[0x0]+','+a3[0x1],a4[ab]===undefined?a4[ab]={'index1':a3[0x0],'index2':a3[0x1],'face1':ah,'face2':undefined}:a4[ab]['face2']=ah;}}for(ab in a4){var al=a4[ab];if(al['face2']===undefined){var a7=ad(al['face1']);if(a7['vertices']===undefined)a7['vertices']=[];var am=af[al['index1']];a7['vertices']['push'](am['x'],am['y'],am['z']),a1['push'](am['x'],am['y'],am['z']),am=af[al['index2']],a7['vertices']['push'](am['x'],am['y'],am['z']),a1['push'](am['x'],am['y'],am['z']);}else{if(Z){if(al['face2']===undefined||ag[al['face1']]['normal']['dot'](ag[al['face2']]['normal'])<=a2){var am=af[al['index1']];a1['push'](am['x'],am['y'],am['z']),am=af[al['index2']],a1['push'](am['x'],am['y'],am['z']);}}else{var an=0x0;ag[al['face1']]['vertexNormals'][0x0]['dot'](ag[al['face2']]['vertexNormals'][0x0])>=Y&&an++;ag[al['face1']]['vertexNormals'][0x1]['dot'](ag[al['face2']]['vertexNormals'][0x1])>=Y&&an++;ag[al['face1']]['vertexNormals'][0x2]['dot'](ag[al['face2']]['vertexNormals'][0x2])>=Y&&an++;if(an<0x2){var a7=ad(al['face1']);if(a7['vertices']===undefined)a7['vertices']=[];var am=af[al['index1']];a7['vertices']['push'](am['x'],am['y'],am['z']),a1['push'](am['x'],am['y'],am['z']),a7=ad(al['face2']);if(a7['vertices']===undefined)a7['vertices']=[];am=af[al['index2']],a7['vertices']['push'](am['x'],am['y'],am['z']),a1['push'](am['x'],am['y'],am['z']);}}}}var ao=new THREE['BufferGeometry']();ao['addAttribute']('position',new THREE['Float32BufferAttribute'](a1,0x3));var ap=new THREE['LineSegments'](ao,scope['Data']['Materials']['edge']);return ap['userData']=a4,ap;};}function r(P,Q,R,S,T,U,V,W){var X=Q['getContext']('2d'),Y=Math['PI']/0x2,Z=0x2*R*Math['PI']-Y,a0=0x0-Y;S['text'](parseInt(R*0x64,0xa)+'%'),Q['width']=Q['width'],X['lineCap']='square',X['beginPath']();if(P===0x0){currentTrun=Math['PI']/_TotalDownloadCnt*_CurrentDownloadSeq*0x2,Y=Math['PI']/0x2,a0=0x0-Y,Z=0x2*R*Math['PI']/_TotalDownloadCnt-Y+currentTrun,X['lineWidth']=0xc,X['strokeStyle']='#ffe1e1';if(R===0x0)X['lineWidth']=0x0;else X['arc'](0x64,0x64,0x5e,a0,Z);T['text']('Receiving\x20model...');}else{if(P===0x1){X['lineWidth']=0x6,X['strokeStyle']='#e1e1ff';if(R===0x0)X['lineWidth']=0x0;else X['arc'](0x64,0x64,0x58,a0,Z);T['text']('Loading\x20model...');}else{X['lineWidth']=0x6,X['strokeStyle']='#e1ffe1';if(R===0x0)X['lineWidth']=0x0;else X['arc'](0x64,0x64,0x5a,a0,Z);T['text']('Creating\x20edge...');}}X['stroke']();}function s(){var P=$('.progress-bar\x20p'),Q=$('.progress-bar\x20pText'),R=document['getElementById']('inactiveProgress'),S=document['getElementById']('activeProgress'),T=R['getContext']('2d');function U(V){V['lineCap']='square',V['beginPath'](),V['lineWidth']=0xf,V['strokeStyle']='#ffe1e1',V['arc'](137.5,137.5,0x64,0x0,0x2*Math['PI']),V['stroke']();}}function t(P,Q){scope['Data']['SetHiddenEdgeColor'](!![]),scope['Data']['Materials']['basic']['uniforms']['mode']['value']=0x0;if(P===RENDER_MODES['HiddenLine_Elimination'])visible_edge=!![],scope['SetOutlineHidden'](),q(objModel),scope['Data']['Materials']['basic']['uniforms']['mode']['value']=0x4;else{if(P===RENDER_MODES['HiddenLine']){visible_edge=!![];if(testHiddenline===![])scope['Data']['SetHiddenEdgeColor'](![]);scope['SetOutlineHidden'](),q(objModel),scope['Data']['Materials']['basic']['uniforms']['mode']['value']=0x3;}else{if(P===RENDER_MODES['Xray'])visible_edge=!![],scope['Data']['SetHiddenEdgeColor'](![]),scope['Data']['UpdateObjectStatus'](Q,!![],![],!![],scope['Data']['Materials']['basic']),q(objModel),scope['Data']['Materials']['basic']['uniforms']['mode']['value']=0x5;else P===RENDER_MODES['SmoothEdge']?(visible_edge=!![],q(objModel),scope['Data']['UpdateObjectStatus'](Q,!![],![],!![],scope['Data']['Materials']['basic']),scope['Data']['Materials']['basic']['uniforms']['mode']['value']=0x0):(visible_edge=![],scope['Data']['UpdateObjectStatus'](Q,!![],![],!![],scope['Data']['Materials']['basic']),scope['Data']['Materials']['basic']['uniforms']['mode']['value']=0x0);}}for(var R=0x0;R<Q['children']['length'];R++){Q['children'][R]instanceof THREE['Mesh']?(Q['children'][R]['material']=scope['Data']['Materials']['basic'],Q['children'][R]['material']['wireframe']=P===RENDER_MODES['Wireframe']?!![]:![],Q['children'][R]['material']['flatShading']=P===RENDER_MODES['Flat']?!![]:![],Q['children'][R]['material']['needsUpdate']=!![]):t(P,Q['children'][R]);}scope['RenderEvent']=!![];}function u(P){return P*Math['PI']/0xb4;}function v(P,Q,R,S){var T=new THREE['Vector3'](),U=new THREE['Quaternion'](),V=new THREE['Vector3'](),W=new THREE['Vector3'](),X=new THREE['Vector3'](),Y=new THREE['Vector3'](),Z=new THREE['Vector3']();Y['set'](P,Q,R),S&&(Z['copy'](camera['position'])['sub'](controls['target']),V['copy'](Z)['normalize'](),W['copy'](camera['up'])['normalize'](),X['crossVectors'](W,V)['normalize'](),W['setLength'](Q),X['setLength'](P),Y['copy'](W['add'](X)),T['x']=P,T['y']=Q,T['z']=R,U['setFromAxisAngle'](T,S),Z['applyQuaternion'](U),camera['up']['applyQuaternion'](U)),camera['position']['addVectors'](controls['target'],Z),camera['lookAt'](controls['target']);}function w(P,Q,R){var S=function(W,X,Y){var Z=new Float32Array(W['geometry']['index']['array']['length']+Y['m_nTris']),a0=new Float32Array(W['geometry']['attributes']['position']['array']['length']+Y['m_nVtx']),a1=new Float32Array(W['geometry']['attributes']['normal']['array']['length']+Y['m_nVtx']);Y['m_triIdx']=W['geometry']['index']['array']['length'],Y['m_vnIdx']=W['geometry']['attributes']['position']['array']['length'],Z['set'](W['geometry']['index']['array'],0x0),Z['set'](X['geometry']['index']['array'],W['geometry']['index']['array']['length']),a0['set'](W['geometry']['attributes']['position']['array'],0x0),a0['set'](X['geometry']['attributes']['position']['array'],W['geometry']['attributes']['position']['array']['length']),a1['set'](W['geometry']['attributes']['normal']['array'],0x0),a1['set'](X['geometry']['attributes']['normal']['array'],W['geometry']['attributes']['normal']['array']['length']);for(var a2=W['geometry']['index']['array']['length'];a2<W['geometry']['index']['array']['length']+Y['m_nTris'];a2++){Z[a2]=Z[a2]+Y['m_vnIdx']/0x3;if(Z[a2]<0x0||Z[a2]>a0['length']-0x1)console['log']('');}var a3=new THREE['BufferGeometry']();o(W['geometry']),W['geometry']=a3,W['geometry']['setIndex'](new THREE['Uint32BufferAttribute'](Z,0x1)),W['geometry']['addAttribute']('position',new THREE['BufferAttribute'](a0,0x3)),W['geometry']['addAttribute']('normal',new THREE['BufferAttribute'](a1,0x3)),W['geometry']['computeBoundingSphere'](),W['userData']['push'](Y),o(select['mesh']),select['mesh']=null,select['body']=null,select['source']=null;},T=function(W,X){var Y=W['geometry']['index']['array']['slice'](X['m_triIdx'],X['m_triIdx']+X['m_nTris']),Z=W['geometry']['attributes']['position']['array']['slice'](X['m_vnIdx'],X['m_vnIdx']+X['m_nVtx']),a0=W['geometry']['attributes']['normal']['array']['slice'](X['m_vnIdx'],X['m_vnIdx']+X['m_nVtx']);for(var a1=0x0;a1<Y['length'];a1++){Y[a1]=Y[a1]-X['m_vnIdx']/0x3;}var a2=new THREE['BufferGeometry']();a2['setIndex'](new THREE['Uint32BufferAttribute'](Y,0x1)),a2['addAttribute']('position',new THREE['BufferAttribute'](Z,0x3)),a2['addAttribute']('normal',new THREE['BufferAttribute'](a0,0x3)),a2['computeBoundingSphere']();var a3=new THREE['MeshPhongMaterial']({'color':0xff0000,'side':THREE['DoubleSide'],'transparent':!![],'vertexColors':THREE['NoColors']});select['mesh']=new THREE['Mesh'](a2,a3),select['body']={'partId':X['partId'],'bodyId':X['bodyId'],'color':X['color'],'m_nVtx':X['m_nVtx'],'m_nTris':X['m_nTris'],'m_vnIdx':X['m_vnIdx'],'m_triIdx':X['m_triIdx'],'BBox':X['BBox']},select['body']['m_triIdx']=0x0,select['body']['m_vnIdx']=0x0,select['source']=W['uuid'],objModel['add'](select['mesh']);},U=function(W,X){var Y=new Float32Array(W['geometry']['index']['array']['length']-X['m_nTris']),Z=new Float32Array(W['geometry']['attributes']['position']['array']['length']-X['m_nVtx']),a0=new Float32Array(W['geometry']['attributes']['normal']['array']['length']-X['m_nVtx']);Y['set'](W['geometry']['index']['array']['subarray'](0x0,X['m_triIdx']),0x0),Y['set'](W['geometry']['index']['array']['subarray'](X['m_triIdx']+X['m_nTris'],W['geometry']['index']['array']['length']),X['m_triIdx']),Z['set'](W['geometry']['attributes']['position']['array']['subarray'](0x0,X['m_vnIdx']),0x0),Z['set'](W['geometry']['attributes']['position']['array']['subarray'](X['m_vnIdx']+X['m_nVtx'],W['geometry']['attributes']['position']['array']['length']),X['m_vnIdx']),a0['set'](W['geometry']['attributes']['normal']['array']['subarray'](0x0,X['m_vnIdx']),0x0),a0['set'](W['geometry']['attributes']['normal']['array']['subarray'](X['m_vnIdx']+X['m_nVtx'],W['geometry']['attributes']['normal']['array']['length']),X['m_vnIdx']);var a1=0x0;for(var a2=X['m_triIdx'];a2<Y['length'];a2++,a1++){Y[a2]=Y[a2]-X['m_nVtx']/0x3;if(Y[a2]<0x0||Y[a2]>Z['length']-0x1)console['log']('');}var a3=new THREE['BufferGeometry']();o(W['geometry']),W['geometry']=a3,W['geometry']['setIndex'](new THREE['Uint32BufferAttribute'](Y,0x1)),W['geometry']['addAttribute']('position',new THREE['BufferAttribute'](Z,0x3)),W['geometry']['addAttribute']('normal',new THREE['BufferAttribute'](a0,0x3)),W['geometry']['computeBoundingSphere']();for(var a2=W['userData']['length']-0x1;a2>=0x0;a2--){if(W['userData'][a2]['bodyId']===X['bodyId'])W['userData']['splice'](a2,0x1);else W['userData'][a2]['m_triIdx']>X['m_triIdx']&&(W['userData'][a2]['m_triIdx']=W['userData'][a2]['m_triIdx']-X['m_nTris'],W['userData'][a2]['m_vnIdx']=W['userData'][a2]['m_vnIdx']-X['m_nVtx']);}};if(R){if(select['mesh']!==null){var V=p(objModel,select['source']);S(V,select['mesh'],select['body']);}return;}console['log']('intersect:\x20'+Q['bodyId']);if(select['mesh']!==null){if(select['body']['bodyId']===Q['bodyId'])return;var V=p(objModel,select['source']);S(V,select['mesh'],select['body']);}T(P,Q),U(P,Q);}function x(){var P=scope['Picking']['PickInfoByPos'](onPickPosition,onDownPosition);P!==undefined&&P['length']>0x0&&(console['log']('Pivot\x20:\x20'+P[0x0]['point']['x']+','+P[0x0]['point']['y']+','+P[0x0]['point']['z']),controls['Pivot']['copy'](P[0x0]['point']),I=!![]);return;}function y(){if(onDownPosition['distanceTo'](onUpPosition)===0x0){var P=scope['Picking']['PickInfoByPos'](onPickPosition,onUpPosition);if(P!==undefined&&P['length']>0x0){var Q=-0x1;for(var R=0x0;R<P[0x0]['object']['userData']['length'];R++){var S=P[0x0]['object']['userData'][R];if(P[0x0]['faceIndex']*0x3>=S['m_triIdx']&&P[0x0]['faceIndex']*0x3<S['m_triIdx']+S['m_nTris']){scope['Data']['Select_v2'](S['bodyId'],objModel,!![]),clipping['UpdateModel'](objModel),scope['RenderEvent']=!![];break;}}}else console['log']('no\x20intersect'),scope['Data']['DeselectAll'](objModel);return;}}function z(){var P=onDownPosition['distanceTo'](onUpPosition);if(onDownPosition['distanceTo'](onUpPosition)<=0.01){var Q=scope['Picking']['PickInfoByPos'](onPickPosition,onUpPosition);if(Q!==undefined&&Q['length']>0x0){var R=-0x1;for(var S=0x0;S<Q[0x0]['object']['userData']['length'];S++){var T=Q[0x0]['object']['userData'][S];if(Q[0x0]['faceIndex']*0x3>=T['m_triIdx']&&Q[0x0]['faceIndex']*0x3<T['m_triIdx']+T['m_nTris']){scope['Data']['Select_v2'](T['bodyId'],objModel,!![]),clipping['UpdateModel'](objModel),scope['RenderEvent']=!![];break;}}}else console['log']('no\x20intersect'),scope['Data']['DeselectAll'](objModel);return;}}function A(P,Q,R,S){var T=this,U=new THREE['Vector2']();U['set'](S['x'],S['y']);for(var V=0x0;V<P['children']['length'];V++){if(P['children'][V]instanceof THREE['Mesh'])for(var W=0x0;W<P['children'][V]['userData']['length'];W++){var X=P['children'][V]['userData'][W],Y=X['BBox'],Z=new THREE['Vector3']((Y['max']['x']+Y['min']['x'])/0x2,(Y['max']['y']+Y['min']['y'])/0x2,(Y['max']['z']+Y['min']['z'])/0x2),a0=new THREE['Vector3'](U['x'],U['y'],0.3),a1=new THREE['Vector3'](U['x'],U['y'],0.7),a2=a0['unproject'](T['camera']),a3=a1['unproject'](T['camera']),a4=new THREE['Vector3']();a4['subVectors'](Z,a2);var a5=new THREE['Vector3']();a5['subVectors'](Z,a3);var a6=new THREE['Vector3']();a6['crossVectors'](a4,a5);var a7=new THREE['Vector3']();a7['subVectors'](a2,a3);var a8=a6['length']()/a7['length'](),a9=new THREE['Vector3'](Y['max']['x']-Y['min']['x'],Y['max']['y']-Y['min']['y'],Y['max']['z']-Y['min']['z'])['length']();a9/=1.9;if(a8<a9){_TargetMeshes['push'](P['children'][V]);break;}}else A(P['children'][V],Q,R,S);}}function B(P,Q,R){var S=P['getBoundingClientRect']();return[0x2*((Q-S['left'])/S['width'])-0x1,0x1-0x2*((R-S['top'])/S['height'])];}function C(){scope['RenderEvent']=!![];}function D(){if(!controls['noZoom']){}scope['RenderEvent']=!![];}function E(P){if(!mouseAction)return;var Q=B(container,P['clientX'],P['clientY']);onDownPosition['fromArray'](Q),onPickPosition['x']=P['x'],onPickPosition['y']=P['y'],H=setTimeout(function(){onDownPosition['distanceTo'](onCurrentPosition)===0x0&&(x(),scope['RenderEvent']=!![]);},0x3e8);if(scope['Measure']['ReviewMode'])scope['Measure']['onMouseDown'](P);if(scope['Note']['ReviewMode'])scope['Note']['onMouseDown'](P);if(scope['Drawing']['DrawingMode'])scope['Drawing']['onMouseDown'](P);scope['RenderEvent']=!![];}function F(P){if(!mouseAction)return;clearTimeout(H);var Q=B(container,P['clientX'],P['clientY']);onPickPosition['x']=P['x'],onPickPosition['y']=P['y'],onUpPosition['fromArray'](Q);if(I)I=![];else{if(!scope['Measure']['ReviewMode']&&!scope['Note']['ReviewMode']&&!scope['Drawing']['DrawingMode'])y();}scope['Note']['onMouseUp'](P);if(scope['Drawing']['DrawingMode'])scope['Drawing']['onMouseUp'](P);scope['RenderEvent']=!![];}function G(){scope['Toolbar']['CalcSplitBar'](),scope['Refresh']();}var H,I=![];function J(P){if(!mouseAction)return;var Q=B(container,P['clientX'],P['clientY']);onCurrentPosition['fromArray'](Q);if(scope['Measure']['ReviewMode'])scope['Measure']['onMouseMove'](P);if(scope['Note']['ReviewMode'])scope['Note']['onMouseMove'](P);if(scope['Drawing']['DrawingMode'])scope['Drawing']['onMouseMove'](P);}function K(P){P=P||window['event'];var Q=P['keyCode'],R=P['ctrlKey']||P['metaKey'];if(Q!==0x1b&&scope['Note']['ReviewMode']&&scope['Note']['ReviewType']!==REVIEW_TYPES['NONE'])return;if(Q===0x10||Q===0x11||Q===0x12){if(Q===0x10)scope['Drawing']['Option']['PressShift']=!![];return;}var S={'ctrl':R,'alt':P['altKey'],'shift':P['shiftKey'],'key':P['keyCode']};scope['EventHandler']['dispatchEvent'](EVENT_TYPES['Keyboard']['Down'],S);}function L(P){P=P||window['event'];var Q=P['keyCode'],R=P['ctrlKey']||P['metaKey'];if(Q===0x10||Q===0x11||Q===0x12){if(Q===0x10)scope['Drawing']['Option']['PressShift']=![];}}function M(){$('#VIZWeb3D')['on']('mousemove',function(P){var Q=P['originalEvent'];J(Q);}),$('#VIZWeb3D')['on']('mousedown',function(P){var Q=P['originalEvent'];E(Q);}),$('#VIZWeb3D')['on']('mouseup',function(P){var Q=P['originalEvent'];F(Q);}),$('#VIZWeb3D')['on']('touchstart',function(P){var Q=P['originalEvent'];N(Q);}),$('#VIZWeb3D')['on']('touchmove',function(P){var Q=P['originalEvent'];J(Q);}),$('#VIZWeb3D')['on']('touchend',function(P){var Q=P['originalEvent'];O(Q);}),window['addEventListener']('resize',G,![]),document['addEventListener']('keydown',K,![]),document['addEventListener']('keyup',L,![]);}function N(P){scope['Lock'](![]);var Q=P['changedTouches'][0x0]['pageX'],R=P['changedTouches'][0x0]['pageY'],S=B(container,Q,R);onDownPosition['fromArray'](S),onPickPosition['x']=Q,onPickPosition['y']=R,H=setTimeout(function(){onDownPosition['distanceTo'](onCurrentPosition)===0x0&&(x(),scope['RenderEvent']=!![]);},0x3e8);if(scope['Measure']['ReviewMode'])scope['Measure']['onMouseDown'](P);if(scope['Note']['ReviewMode'])scope['Note']['onMouseDown'](P);if(scope['Drawing']['DrawingMode'])scope['Drawing']['onMouseDown'](P);scope['RenderEvent']=!![];}function O(P){scope['Lock'](![]);var Q=P['changedTouches'][0x0]['pageX'],R=P['changedTouches'][0x0]['pageY'],S=B(container,Q,R);onPickPosition['x']=Q,onPickPosition['y']=R,onUpPosition['fromArray'](S);if(I)I=![];else{if(!scope['Measure']['ReviewMode']&&!scope['Note']['ReviewMode'])z();if(scope['Drawing']['DrawingMode'])scope['Drawing']['onMouseUp'](P);}scope['Note']['onMouseUp'](P),scope['RenderEvent']=!![];}return b;});