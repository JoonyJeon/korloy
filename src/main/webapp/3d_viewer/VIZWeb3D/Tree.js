VIZWeb3D['Tree']=function(a){var c=this,d=a;this['View']=d;var f=d['Data'],g=![],h=![];this['SetOption']=function(Q){if(Q===undefined)Q={};c['Option']['Visible']=Q['hasOwnProperty']('Option')?Q['Option']['Visible']:g;},this['trigger_event']=!![],this['Option']={get 'Visible'(){return g;},set 'Visible'(Q){g=Q;var R=$('#uinav_drag');if(R['length']>0x0){if(g){if($('#uinav_drag')['length']>0x0)$('#uinav_drag')['fadeIn'](0x1f4);}else{if($('#uinav_drag')['length']>0x0)$('#uinav_drag')['fadeOut'](0x1f4);}}R=$('#ui_tree_drag'),R['length']>0x0&&(g?d['Configuration']['Thema']['Type']===THEMA_TYPES['Splitter']&&($('#ui_info_expand')['length']>0x0&&$('#ui_info_expand')['addClass']('clck')):d['Configuration']['Thema']['Type']===THEMA_TYPES['Splitter']&&($('#ui_info_expand')['length']>0x0&&$('#ui_info_expand')['removeClass']('clck')));}},this['subNodes']=function(Q){var R=null,S=[];R=f['GetSubNodes'](Q);for(var T=0x0;T<R['length'];T++){S['push'](c['item'](R[T]));}return S;},this['icon']=function(Q){var R='';if(Q===ENTITY_TYPES['EntAssembly'])R='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAC10lEQVQ4jX1TXUiTURh+vu/s82c697m/VHKbJmpqhEGmQmAQEkE3dVHihZWBF1Yaqd10nWYZGFR4VxcZmBFCVGQRhVZmYUOWWkvNOf/mps7Pzf2cndiqxQx94T0X533Oc57znucFY2zTbKy78PJ2S3P3VhgutGyMpvqL7fq01FMVxKoIlUyGUqfVNttaVVd/dSM2iuBOS/OhICPd6lhBfsD+gaOOufA+UafgRkI+KyzIXpVWHMfPVNU+jyK4drPDkKPg7+cohL3KvocxTGfAorEEEy4XG15eglKj4s6eTgHYIqyzWb7hr45B86izsvF8zU9ZiMXT1dWr2ZmZKWpchLolYNIMi9IAatBzWf4h5BWKALOFb0xPtcaIvrli+5SlF6jJDhNwdod7ZGaGzItKf9LhMjJTWMCX7ElDlt4CoAhzIwGYno1DTE8NqhKGqCJZEtK2y9yhs/zftyzTIMYdS0L/7ABfvu0R9MoJAN5wajNUMOQSzFkGeIV8XIB3IdK3sAIaGysSrweUAcGAD9L0BLzSPch1eYjRGoHAKMRkL/xx8QDWAU6GNS+niyh4rTaKowoVkslvQdRHYR+exuqPj2DOQSTFWgHmD9dcfjXaHyfgzZepuIgCZ27ZZL+T2z0z2cN2yNY5EkPCYL/HD57QP/8loPfdIl6ZOaYtW+JSxwJTEYJQMLcH47pyzo41qrd9IqUZKyCBpZALYFnJxFsTg5loacn+98RDEd2DgGteJijTEVxxQWIqdtd8FC++j+BkkQkyUyKeSAVYUBWD4EHYdQqBYTkI378mSvYKFufvFNKNOfAGeDDAatPhSt8JaAozISVqoQEFx4HTrFPf/BgbXJhilRGCbz23hgHsyj5SW8XL5B3xxn2E2h1Rnhf5VUg+t9f8mR1rbeiLtvLGyK++fokkaZtkglplzE6CnNqcq/bF1p7L5/4bpi3HOb+6rfNgQ9vTTTGM4RcGToRpXE7cBgAAAABJRU5ErkJggg==';if(Q===ENTITY_TYPES['EntPart'])R='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABpUlEQVQ4jWP8//8/AyWACZ/eOQuneoAwPjVYXdA9aaa8gY74Jg01Dg0Q/8atHzcuXHnpV5qX/pCgAes2LVuvpiLqpqP+jIuB4RNUlI/hyk2pb7fuvN4V5BcViNWA6b0pfbpWwUk25t/5Gf4/xeFeaYYjJzk/Xj65fV5mwaQiBuQwkOC65aH2awLX18f3/jIwsGPRzc7w68PHv/qiO7mUVb7Dw4UFyS2/Hp+6zSrx5cOfb4+kfvNr+7Cy8X8DS/39Icrw7fm532ycnxh5uZ6xMrJI/cI0AApeXHvNwsz2juH315e/uMS1GdjElBkYfl9j4OV+ycbw/w+GuzAMANv46y/D88sv2IQ+/2AQYnrHwC/6m4EBR3LBmw5+f//NwMT8F58S/AYQA+AGPH71f85bSbmPvOLcuLWxCTIcua348eGTb3NgQhgJadkU+/UKov/deN++4mLnYWWQNFJm4BVlZ7jyVPzbrfs/dwUFz8SekJBBd5uzvLr4300qkgxaTPyKjI+/cF29cOOnX2n+HIykzAAyABee1GzjsWSSdzw+NZRlZwYGBgDnQtDH6ar3AgAAAABJRU5ErkJggg==';if(Q===ENTITY_TYPES['EntBody'])R='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABAklEQVQ4jWP8//8/AyWAiRS9zZ2J4ehiLMRonLcgLU9VWaDB3kLoFwMDw0qiDWjvS7Yx1eWZHuItqcr3/w77oesSL4lyQffEFHk1BbaZMYEytrJ8T7kYft6HykhgqMUwYMaspB4PB8kUXcVv/AxfzjMw/MTvPQwDtNQFY3TFrvMzfPmDXycUYI+F/8RpZiA1GikzgBF7hBFnAI8yw+VXmh+v3Xy/BF0Kf0JiF2N4/En627nTrw/fevA5vTR/3kPiDGDhZfjEqPLz1LkPt09ffpJZWTT3CC47MDLToYPFLxiZmNlu3/3QkJQwaxJ+v4Fi7P9/FJxfFpGCLoYPU5adGRgYAEOOfvJabkwyAAAAAElFTkSuQmCC';return R;},this['item']=function(Q){var R=[],S=Q['name']===null?'Body\x20'+Q['index']:Q['name'],T=!![];if(d['Configuration']['Model']['Selection']['Unit']===SELECT_UNIT['Part']){var U=f['GetNode'](Q['index']);if(U['data']['type']===ENTITY_TYPES['EntPart'])T=![];}var V={'text':S,'id':Q['index'],'children':Q['cCount']===0x0||Q['cCount']===-0x1?![]:T,'state':{'opened':![],'disabled':![],'selected':![],'checked':!![]},'icon':c['icon'](Q['type'])};return V;},this['Select']=function(Q){c['trigger_event']=![];if($('#ui_tree')['length']>0x0){$('#ui_tree')['jstree']()['deselect_all']();var R=$('#ui_tree')['jstree'](!![])['get_node'](Q);if(!R){var S=[];c['View']['Data']['GetNodePath'](Q,S);var T=function(U,V){var W=null;for(var X=V['length']-0x1;X>=0x0;X--){var Y=$('#ui_tree')['jstree'](!![])['get_node'](V[X]['index']);if(Y===![]){$('#ui_tree')['jstree'](!![])['load_node'](V[X]['pIndex'],function(){V['splice'](X,0x1),T(U,V);});break;}else W=Y,V['splice'](X,0x1);}V['length']===0x0&&($('#ui_tree')['jstree'](!![])['_open_to'](U)['focus'](),$('#ui_tree')['jstree'](!![])['select_node'](U,![],![]),i(U),c['trigger_event']=!![]);};T(Q,S);}else $('#ui_tree')['jstree'](!![])['_open_to'](Q)['focus'](),$('#ui_tree')['jstree'](!![])['select_node'](Q,![],![]),i(Q),c['trigger_event']=!![];}c['View']['Property']['Show'](Q);};function i(Q){try{var R=$('#ui_tree')['jstree'](!![])['element']['context']['offsetHeight'],S=$('#ui_tree\x20#'+Q)[0x0];$('#ui_tree')['jstree'](!![])['element']['context']['scrollTop']=S['offsetTop']-R/0x2;}catch(T){$('#ui_tree\x20#'+Q)[0x0]['scrollIntoView']();}}this['Deselect']=function(Q){c['trigger_event']=![],c['trigger_event']=!![];},this['DeselectAll']=function(){if(h===![])return;if($('#ui_tree')['length']>0x0)$('#ui_tree')['jstree'](!![])['deselect_all']();c['View']['Property']['Show'](-0x1);},this['Check']=function(Q){c['trigger_event']=![];if($('#ui_tree')['length']>0x0)$('#ui_tree')['jstree']()['check_node'](Q,![]);c['trigger_event']=!![];},this['UnCheck']=function(Q){c['trigger_event']=![];if($('#ui_tree')['length']>0x0)$('#ui_tree')['jstree']()['uncheck_node'](Q,![]);c['trigger_event']=!![];},this['Refresh']=function(){$('#ui_tree')['length']>0x0&&$('#ui_tree')['jstree'](!![])['refresh']();},this['Init']=function(){if($('#ui_tree_test')['length']>0x0)$('#ui_tree_test')['click'](function(){c['Select'](0x1),c['UnCheck'](0x3);});$('#ui_tree_visible')['length']>0x0&&($('#ui_tree_visible')['attr']('data-tooltip-text','Model\x20Tree'),$('#ui_tree_visible')['click'](function(){c['Option']['Visible']=!c['Option']['Visible'];if(c['Option']['Visible']){if($('#uinav_drag')['length']>0x0)$('#uinav_drag')['fadeIn'](0x1f4);$(this)['addClass']('clck');}else{if($('#uinav_drag')['length']>0x0)$('#uinav_drag')['fadeOut'](0x1f4);$(this)['removeClass']('clck');}}));d['Configuration']['Thema']['Type']===THEMA_TYPES['Splitter']?(c['Option']['Visible']=!![],$('#ui_info_expand')['length']>0x0&&($('#ui_info_expand')['attr']('data-tooltip-text','Show\x20Info'),$('#ui_info_expand')['addClass']('clck'),$('#ui_info_expand')['click'](function(){c['Option']['Visible']=!c['Option']['Visible'],c['Option']['Visible']?$('#ui_info_expand')['addClass']('clck'):$('#ui_info_expand')['removeClass']('clck'),c['View']['Toolbar']['SetSplitterPos'](c['Option']['Visible']);}))):$('#ui_tree_expand')['length']>0x0&&$('#ui_tree_collapse')['length']>0x0&&($('#ui_tree_expand')['attr']('data-tooltip-text','Show\x20Tree'),$('#ui_tree_expand')['click'](function(){c['Option']['Visible']=!![];if($('#uinav_drag')['length']>0x0)$('#uinav_drag')['fadeIn'](0x1f4);$('#ui_tree_expand')['fadeOut'](0x1f4),$('#ui_tree_collapse')['fadeIn'](0x1f4);}),$('#ui_tree_collapse')['click'](function(){c['Option']['Visible']=![];if($('#uinav_drag')['length']>0x0)$('#uinav_drag')['fadeOut'](0x1f4);$('#ui_tree_collapse')['fadeOut'](0x1f4),$('#ui_tree_expand')['fadeIn'](0x1f4);}));if($('#ui_tree')['length']>0x0)$('#ui_tree')['on']('changed.jstree',function(Q,R){if(R['selected']['length']){}})['jstree']({'animation':0x0,'plugins':['checkbox','changed'],'checkbox':{'tie_selection':![],'whole_node':![],'striped':!![]},'core':{'themes':{'responsive':!![]},'multiple':![],'data':function(Q,R){if(Q['id']==='#'){var S=[],T=f['GetSubNodes'](-0x1);for(var U=0x0;U<T['length'];U++){S['push'](c['item'](T[U]));}R(S);}else{var V=Q['id'];if(V===undefined)V=Q;var S=[],T=f['GetSubNodes'](V*0x1);for(var U=0x0;U<T['length'];U++){S['push'](c['item'](T[U]));}R(S);}}}});$(function(){$('#ui_tree')['on']('check_node.jstree\x20Event',function(Q,R){if(!c['trigger_event'])return;d['Control']['Model']['Show'](R['node']['id']*0x1,!![]);});}),$(function(){$('#ui_tree')['on']('uncheck_node.jstree\x20Event',function(Q,R){if(!c['trigger_event'])return;d['Control']['Model']['Show'](R['node']['id']*0x1,![]);});}),$(function(){$('#ui_tree')['on']('deselect_node.jstree\x20Event',function(Q,R){if(!c['trigger_event'])return;});}),$(function(){$('#ui_tree')['on']('select_node.jstree\x20Event',function(Q,R){if(!c['trigger_event'])return;d['Control']['Model']['Select'](R['node']['id']*0x1),c['View']['Property']['Show'](R['node']['id']*0x1);});}),$('#ui_tree')['on']('hover_node.jstree',function(Q){d['Lock'](!![]);}),$('#ui_tree')['mouseover'](function(){d['Lock'](!![]);})['mouseout'](function(){d['Lock'](![]);})['mouseenter'](function(){d['Lock'](!![]);}),$('#ui_tree')['on']('touchstart',function(Q){Q['stopPropagation']();}),$('#ui_tree')['on']('touchmove',function(Q){Q['stopPropagation']();}),$('#ui_tree')['on']('touchend',function(Q){Q['stopPropagation']();}),$('#uinav_drag')['mouseover'](function(){})['mouseout'](function(){d['Lock'](![]);})['mouseenter'](function(){d['Lock'](!![]);}),h=!![];},j(document['getElementById']('uinav_drag'));function j(Q){if(Q===null)return;var R=0x0,S=0x0,T=0x0,U=0x0;document['getElementById'](Q['id']+'header')?document['getElementById'](Q['id']+'header')['onmousedown']=V:Q['onmousedown']=V;function V(Y){Y=Y||window['event'],Y['preventDefault'](),T=Y['clientX'],U=Y['clientY'],document['onmouseup']=X,document['onmousemove']=W,d['Lock'](!![]);}function W(Y){Y=Y||window['event'],Y['preventDefault'](),R=T-Y['clientX'],S=U-Y['clientY'],T=Y['clientX'],U=Y['clientY'],Q['style']['top']=Q['offsetTop']-S+'px',Q['style']['left']=Q['offsetLeft']-R+'px';}function X(){document['onmouseup']=null,document['onmousemove']=null,d['Lock'](![]);}}function k(Q,R,S,T,U){}var l=0x64,m=0x28,n=-0xa,o=0x4,p=null,q,r,s,t,u,v,w,z,A,B,C=![],D,E=document['getElementById']('uinav_drag'),F=document['getElementById']('uinav_dragheader');E&&(E['addEventListener']('mousedown',J),E['addEventListener']('mousemove',N),E['addEventListener']('mouseup',O));function G(Q){K(Q['touches'][0x0]),Q['preventDefault']();}function H(Q){N(Q['touches'][0x0]);}function I(Q){if(Q['touches']['length']===0x0)O(Q['changedTouches'][0x0]);}function J(Q){K(Q),p&&p['isResizing']&&document['addEventListener']('mousemove',N),Q['preventDefault']();}function K(Q){M(Q);var R=q||r||t||s;if(t)return;p={'x':A,'y':B,'cx':Q['clientX'],'cy':Q['clientY'],'w':z['width'],'h':z['height'],'isResizing':R,'isMoving':!R&&L(),'onTopEdge':t,'onLeftEdge':s,'onRightEdge':q,'onBottomEdge':r};}function L(){return A>0x0&&A<z['width']&&(B>0x0&&B<z['height']&&B<F['clientHeight']);}function M(Q){z=E['getBoundingClientRect'](),A=Q['clientX']-z['left'],B=Q['clientY']-z['top']-F['clientHeight'],t=B<o,s=A<o,q=A>=z['width']-o,r=B>=z['height']-o,u=window['innerWidth']-o,v=window['innerHeight']-o;}function N(Q){M(Q),D=Q,C=!![],P();}function O(Q){M(Q);if(p&&p['isMoving']){var R={'width':z['width'],'height':z['height']};if(z['top']<n||z['left']<n||z['right']>window['innerWidth']-n||z['bottom']>window['innerHeight']-n)k(E,0x0,0x0,window['innerWidth'],window['innerHeight']),w=R;else{if(z['top']<o)k(E,0x0,0x0,window['innerWidth'],window['innerHeight']/0x2),w=R;else{if(z['left']<o)k(E,0x0,0x0,window['innerWidth']/0x2,window['innerHeight']),w=R;else{if(z['right']>u)k(E,window['innerWidth']/0x2,0x0,window['innerWidth']/0x2,window['innerHeight']),w=R;else z['bottom']>v?(k(E,0x0,window['innerHeight']/0x2,window['innerWidth'],window['innerWidth']/0x2),w=R):w=null;}}}}p=null,document['removeEventListener']('mousemove',N);}function P(){if(!C)return;C=![];if(p&&p['isResizing']){p['onRightEdge']&&(E['style']['width']=Math['max'](A,l)+'px');p['onBottomEdge']&&(E['style']['height']=Math['max'](B,m)+'px');if(p['onLeftEdge']){var Q=Math['max'](p['cx']-D['clientX']+p['w'],l);Q>l&&(E['style']['width']=Q+'px',E['style']['left']=D['clientX']+'px');}if(p['onTopEdge']){var R=Math['max'](p['cy']-D['clientY']+p['h'],m);R>m&&(E['style']['height']=R+'px',E['style']['top']=D['clientY']+'px');}return;}if(q&&r||s&&t)E['style']['cursor']='nwse-resize';else{if(q&&t||r&&s)E['style']['cursor']='nesw-resize';else{if(q||s)E['style']['cursor']='ew-resize';else{if(r||t)E['style']['cursor']='ns-resize';else{if(L()){}else E['style']['cursor']='default';}}}}}};